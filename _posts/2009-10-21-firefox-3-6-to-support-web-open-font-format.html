---
layout: post
permalink: node/62298
---
<p>Mozilla's developer blog today posted that they have added support for the <a href="http://hacks.mozilla.org/2009/10/woff/">Web Open Font Format (WOFF) to Firefox 3.6</a>. Firefox 3.5 gave us support for <a href="http://hacks.mozilla.org/2009/06/beautiful-fonts-with-font-face/">linking to TrueType and OpenType</a> fonts, but this takes it a step further to support a format that is more robust for two key reasons:</p><ol><li>WOFF is a compressed format, resulting in files smaller than an equivalent TrueType or OpenType font.</li><li>It avoids DRM and domain labels by containing meta data about its source, garnering support from typeface designers and foundries.</li></ol><p>If you want to see this in action, you'll need to grab a <a href="http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/">Firefox 3.6 nightly build</a> until the full release is out the door. If you should feel compelled to do that, the nice folks at Mozilla have provided a sample block of CSS that uses the <code>@font-face</code> rule to link to a WOFF font:</p><pre>@font-face {\n  font-family: GentiumTest;\n  src: url(fonts/GenR102.woff) format("woff"),\n       url(fonts/GenR102.ttf) format("truetype");\n}</p><p>body {\n  font-family: GentiumTest, Times, Times New Roman, serif;\n}\n</pre><blockquote>Structured this way, browsers that support the WOFF format will download the WOFF file. Other browsers that support @font-face but donâ€™t yet support the WOFF format will use the TrueType version. (Note: IE support is a bit trickier, as discussed below). As WOFF is adopted more widely the need to include links to multiple font formats will diminish.</blockquote><p>If you are fortunate enough to have a build of Firefox 3.6 already up and running on your machine, go to a <a href="http://www.edenspiekermann.com/woff/">test page using ff Meta</a> set up by the nice folks at <a href="http://www.edenspiekermann.com/">edenspiekermann</a> (if part of the name is familiar, Erik Spiekerman is the designer of the Meta family, and if the typeface is familiar, it's what we use at <a href="http://algonquinstudios.com">Algonquin Studios</a>). The image below shows how that page looks in Firefox 3.6 using ff Meta (left side) and how it looks rendered in Internet Explorer 8 (right side).</p><p style="text-align:center;"><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_CMnSa2_yVIE/St41cPBvLpI/AAAAAAAAACU/tgFiRMuWfU4/s1600-h/WOFF_split.gif" title="Click me for a larger version already."><img style="320px; height: 260px;" src="http://4.bp.blogspot.com/_CMnSa2_yVIE/St41cPBvLpI/AAAAAAAAACU/tgFiRMuWfU4/s320/WOFF_split.gif" border="0" alt="Screen shot showing page with ff Meta typeface on one half, not on the other." id="BLOGGER_PHOTO_ID_5394808162822860434" /></a></p><p>Because IE8 only supports the EOT format, the blog offers some code to account for IE8 in the CSS. Because IE8 doesn't understand the format hints, it will parse the hints as part of the URL, resulting in requests to the server for files that don't exist. The end user will see things just fine because of the EOT reference, but your logs will show some odd 404s as a result of this technique. The Mozilla post has more details on this and some other issues. The code to do this:</p><pre>@font-face {\n  font-family: GentiumTest;\n  src: url(fonts/GenR102.eot);  /* for IE */\n}\n \n@font-face {\n  font-family: GentiumTest;\n  /* Works only in WOFF-enabled browsers */\n  src: url(fonts/GenR102.woff) format("woff"); \n}</pre><p>The main Mozilla blog has a post today <a href="http://blog.mozilla.com/blog/2009/10/20/mozilla-supports-web-open-font-format/">listing the supporting organizations</a> with the following endorsement:</p><blockquote>We endorse the WOFF specification, with default same-origin loading restrictions, as a Web font format, and expect to license fonts for Web use in this format.</blockquote>