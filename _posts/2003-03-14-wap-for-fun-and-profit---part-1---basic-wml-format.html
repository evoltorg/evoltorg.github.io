---
layout: post
permalink: node/58151
ratings: 3
avgrate: 3.0000
user: bennettpr
real_name: "Paul Bennett"
user_since: 2002-09-17
avatar: "/images/pictures/picture-40372.gif"
article_count: 1
excerpt: " browser from Apache Software. (Windows only at the moment sorry)."
---
<h3>Why WAP?</h3></p><p></p>For plain-old-web-browsing, staring at a tiny monochrome screen offers little in the way of excitement. Where WAP can come into good use is in the creation of business applications for remote users. Consider the following situations:</p><ol type="numeric"></p>	<li></p>	A large plumbing firm who wastes many hours having their plumbers travel back to the office to get new job information.</p>	</li></p>	<li></p>	Technicians needing to get data back from a remote location to a central server in real time.</p>	</li></p>	<li></p>	A large city council looking to streamline car parking services and kill off those pesky meters.</p>	</li></p></ol></p>In all these cases, WAP has been used to provide a simple and (largely) device independent solution. For example:</p><ol type="numeric"></p><li>Each plumber is given a WAP capable phone and can receive their job information while in the field, they can also input data back to the central server, such as parts used and time spent.</li></p><li></p>Technicians can input data directly into the WAP device and have the master database updated immediately.</p></li></p><li></p>WAP is used as a medium to provide customers a wireless way to set parking times, and update their parking without having to use a parking meter.</p></li></p></ol></p></p></p><h3>Your first <acronym title="Wireless Markup Language">WML</acronym> page</h3></p><p><pre></p>&lt;?php </p>header("Content-type: text/vnd.wap.wml"); ?&gt;</p>echo "&lt;?xml version=\"1.0\"?&gt;"; // this is only added server side in this example to avoid php trying to parse the xml tag</p>?&gt;</p>&lt;!DOCTYPE wml PUBLIC "-//WAPFORUM//DTD WML 1.1//EN" "http://www.wapforum.org/DTD/wml_1.1.xml"&gt;</p>&lt;wml&gt;</p>  &lt;card id="card1" title="Basic WAP Page"&gt; </p>   &lt;p&gt;</p>    &lt;big&gt;		</p>     My first Wap page</p>    &lt;/big&gt;</p>    &lt;br/&gt;	</p>    &lt;small&gt;</p>     hello!</p>    &lt;/small&gt;</p>   &lt;/p&gt;</p>  &lt;/card&gt;</p>&lt;/wml&gt;</p></pre></p><h3>How it all works</h3></p><h4>The document headers</h4></p><p></p>The first thing we notice is that WML has an XML-based structure. (This will be familiar to anyone who has coded in <acronym title="eXtensible Hypertext Markup Language">XHTML</acronym>.) WAP devices are extremely strict and will not display malformed content. All you will get is a generic error message, so always double check and test at each step of your development. At the server side, (in <a href="http://www.php.net" title="Official PHP site" target="_blank">PHP</a> for this example) we have added a content-type header (to correctly inform the device of the content that follows), then an xml declaration to inform the browser of the structure of the document (well-formed xml). Before the first &lt;wml&gt; tag we add a document type definition. (Currently there is only one document type definition for WML 1.0.) According to the <a href="http://www.wapforum.org/what/technical_1_2.htm" title="WAP doctype definitions and links to DTD source files" target="_blank">wapforum</a>, a document type definition "is a formal description in XML declaration syntax of a particular type of document. It sets out what names are to be used for the different types of element, where they may occur, and how they all fit together."</p></p></p><h4>The document structure</h4></p><p></p>Similarly to an <acronym title="Hypertext Markup Language">HTML</acronym> or XHTML document, the actual content is surrounded by &lt;wml&gt;&lt;/wml&gt; tags.</p>One difference in WML is that each page is called a "card", and several (or even only one) "card" comprise a "deck". Only one card is displayed at a time and can link to other "cards" in the "deck" via anchor links which reference the id of the card you wish to </p>display. For example a link like this: </p><br /></p><code></p>&lt;a href="#anotherCard"&gt;Go to the next card&lt;/a&gt;</p></code></p><br /> will direct the user to the card in the same deck where the card id="anotherCard"</p></p></p><h5>Please Note!</h5></p><p></p><ol type="numeric"></p><li>All displayed content in the WML page <strong>must</strong> be contained in &lt;p&gt;&lt;/p&gt; tags or it will not be recognised as well formed and will not display.</p></li></p><li></p>The card id <strong>cannot</strong> be a single digit or character, there must be at least 2 digits (alpha or numeric) in the card id for it to allow the page to be rendered correctly.</p></li></p></ol></p></p></p><h3>Getting server side processing going.</h3></p><p></p>Ok, we can display a static page, but how can we hook this up to interact with our database, or get something more exciting happening?</p></p></p><p></p>WML has a different way of POSTing or GETTING variables to the server. In this example we will look at the old POST method and how to post variables to the server.</p></p></p><pre></p>&lt;?php </p>header("Content-type: text/vnd.wap.wml"); ?&gt;</p>echo "&lt;?xml version=\"1.0\"?&gt;"; // this is only added server side in this example to avoid php trying to parse the xml tag</p>?&gt;</p>&lt;!DOCTYPE wml PUBLIC "-//WAPFORUM//DTD WML 1.1//EN" "http://www.wapforum.org/DTD/wml_1.1.xml"&gt;</p>&lt;wml&gt;</p>  &lt;card id="card1" title="WML Post to server"&gt;  </p>   &lt;p&gt;		 </p>    &lt;big&gt;</p>     Pick your favourtite colour :</p>    &lt;/big&gt;			</p>    &lt;br/&gt;</p>    &lt;select name="favColour"&gt;</p>     &lt;option value="red"&gt;red&lt;/option&gt;</p>     &lt;option value="yellow"&gt;yellow&lt;/option&gt;</p>     &lt;option value="pink"&gt;pink&lt;/option&gt;</p>     &lt;option value="green"&gt;green&lt;/option&gt;</p>    &lt;/select&gt;</p>    &lt;do type="accept" name="next" label="save"&gt;</p>     &lt;go href="processColour.php" method="post"&gt;</p>      &lt;postfield name="userColour" value="$(favColour)"/&gt;</p>     &lt;/go&gt;</p>    &lt;/do&gt;</p>   &lt;/p&gt; </p>  &lt;/card&gt;</p> &lt;/wml&gt;</p>	  </p></pre></p><h3>How WML "forms" and submitting data works.</h3></p><p></p>Boy does that select list look familiar or what? Yes WML supports the select list tag as well as the same option tag format as HTML. The difference here the code for posting the data to the server. </p></p></p><p></p>Firstly, the "do" tag defines what type of task is to be performed. Basically this "accept" task causes the label "save" to be displayed in the browser screen (usually at the bottom left).</p></p></p><p></p>Secondly, the "go" tag defines the url that the data is to be sent to and the method by which it is to be sent ("post" or "get" - in <strong>lowercase.</strong>). This is the most similar to the HTML "form" tag.</p></p></p><p></p>Thirdly, the "postfield" tag defines which form fields will post data to the server. Not all form fields are automatically sent to the server like in HTML, they <strong>must</strong> be defined in the "postfield" tags or no data will be sent to the server. The postfield tag must have a different <strong>name</strong> than the form value it will send. In this example, the name of the variable that will be sent to the server is "userColour", which has the value of "$(favColour)" assigned to it. This is WML''''s way of saying "take the value of ''''favColour'''' and post it to the server with the name ''''userColour'''' ". Cumbersome yes, but that''''s the way it is at the moment, people.</p></p></p><h3>Summary</h3></p><p></p>So far we have covered basic WML formatting and begun to see how we can interact with the server. In Part two we will examine some more of WML''''s input options, as well as navigation and menu structure. </p><br/></p> Although WAP does still has many pitfalls and weaknesses (such as security, usability and browser discrepancies - does this remind anyone of the early internet?), it can already provide solutions to some of our customers. We, as developers, just need to help some customers see how they can use this technology to enhance their existing processes. </p></p>