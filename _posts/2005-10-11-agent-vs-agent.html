---
layout: post
permalink: agent-v-agent
---
    <blockquote cite="http://www.w3.org/TR/webarch/#intro"></p><p>A <strong>user agent</strong> acts on behalf of a user. Software agents include servers,\n      proxies, spiders, browsers, and multimedia players.\n       </blockquote>\n    <p></p><p>     <acronym title=" World Wide Web Consortium ">W3C</acronym>:\n     Architecture of the World Wide Web, Volume One. From the\n     <a href="http://www.w3.org/TR/webarch/#intro" title=" Architecture of the World Wide Web, Volume One ">Introduction</a>\n     (December, 2004).\n    </p>\n    <h2>User Agents</h2>\n    <p>\n     The phrase <q>User agent</q> or user-agent or <acronym title=" User Agent ">UA</acronym> or browser\n     or client or client application or client software program...all pretty much refer to the same\n     thing.\n    </p></p><p>    <p>Or maybe not.</p>\n    <p>\n     Many people quickly assume this <a href="http://www.netlingo.com/lookup.cfm?term=user+agent" title=" Netlingo definition of user-agent ">term</a> is the jargon equivalent of <q>browser</q>\n     (there is a much better definition of user-agent on <a href="http://en.wikipedia.org/wiki/User-agent" title=" Wikipedia definition of user-agent ">Wikipedia</a>).\n     And while a browser may not represent you in the same way as a human agent, it does perform\n     an action on your <strong>behalf</strong>.\n    </p></p><p>    <p>Or maybe not.</p>\n    <p>In other words, sometimes a user-agent can be malicious.</p>\n    <h2>Agent in White</h2>\n    <p>\n     Most of the time you will initiate a request for a Web page, and in these cases a browser represents\n     you in a very direct way &#8212; in order to fetch the resource for you and return it so you\n     can view it. Or perhaps so you can listen to it.\n    </p>\n    <p></p><p>     But what about a crawler/spider/robot? These are also user-agents, though you personally\n     didn't ask them to do anything (at least not when they made the crawl). But\n     they do make it possible to find things on the Web. Consider that the next time you search\n     for (and find) something on Google. So maybe not so much on <strong>your</strong>\n     behalf, as on <strong>our</strong> behalf.\n    </p>\n    <p>\n     In an even broader sense, a Web server is also a user-agent. Let's look at a\n     typical client-server model event cycle: the browser (on your behalf) requests a page from\n     a Web server, which (if it has what you asked for) then fetches the document (also on your\n     behalf, but also on behalf of any advertisers or similar content that may be present on the\n     page). It then returns the document to your browser (excuse me, user-agent). Or <strong>any other</strong></p><p>     user-agent that requests the same resource. Assuming there are no restrictions on who, or\n     what, can request it.\n    </p>\n    <h2>Agent in Black</h2>\n    <p>\n     So how can a user-agent be malicious? In any of the same ways that people can be, naturally,\n     since user-agents don't write themselves. This isn't a movie folks.\n     A spider can be malicious because it may not follow the rules or is only looking for one thing\n     and doesn't care anything about adding to your Web experience. An email harvester\n     is an example of this. All these little beasts do is search the Web looking for addresses to\n     add to their owner's databases, so they can spam their victims until they probably\n     want to scream every time they open their email program (also a user-agent). So, a harvester is\n     also an agent, only the <q>user</q> in this equation is the spammer.\n    </p></p><p>    <p>\n     A crawler can also ignore acceptable behavior when you, as a Web site owner, edit your <code>robots.txt</code>\n     file to say: <q>okay, you're allowed to look around here and there, but\n     not here</q> and the agent ignores this and pokes around anywhere it damn well pleases,\n     often trying to look directly at the things it's <strong>not</strong> supposed\n     to look at. And this can lead to some pretty interesting ideas from folks trying to combat the guys\n     in the black hats. Try this simple experiment sometime: Edit your <code>robots.txt</code> file\n     and add a rule that disallows access to an arbitrary directory, it's not important whether\n     it even exists. Now wait a few days and scan your log files looking for any agents that tried accessing\n     that directory. Hmm...\n    </p></p><p>    <pre>\nUser-agent: *\nDisallow: /agent_black/\n</pre>\n    <p>\n     You may also want to check out <a href="/app/drx/Internet/WWW/Servers#honeypot:project" title=" Project Honey Pot ">Project Honey Pot</a>, which is a grassroots organization trying to at least\n     slow the flood of this stuff&#8212;a problem that I personally think accounts for a measurable\n     drain on the entire network. And for what <abbr title="Return on Investment">RoI</abbr>? I would love to\n     look at the numbers: Let's say, for every 100,000 people they piss-off, one, maybe\n     <strong>one</strong> clicks through to one of these dumb ads? And for those few that do, what\n     percentage actually buy something? I suspect that spammers have to make a <em>lot</em> of people very angry to get\n     a scant handful of sales. Sigh.\n    </p></p><p>    <p>\n     The list of bad guys goes on. What about these downloadable browser toolbars? They can certainly enhance\n     your online experience. But just as many can be deceiving and are really interested in sniffing around\n     on your personal computer looking for CC numbers or popping up ads in your face when you probably\n     don't like ads popped up in your face. In this example, it's the Web server\n     that's the bad guy. Or rather the people that configured it to deliver these adware,\n     spyware or other programs to your door. One in particular is not among this list. The <a href="/app/drx/Internet/WWW/Servers#netcraft:toolbar" title=" Netcraft Toolbar ">Netcraft Toolbar</a>\n     has a number of useful features, and is also used by a community of alert members to help prevent fraud\n     and <a href="http://en.wikipedia.org/wiki/Phishing" title=" Phishing ">phishing</a> attacks.\n    </p>\n    <p></p><p>     And what about commercial browsers? Internet Explorer from Microsoft is a very popular user-agent,\n     but does it wear a white hat? While it never set out to be a bad guy, I would certainly lump it in\n     the category of not-so-nice user-agents. Why? Because the developers thumbed their noses at accepted\n     standards, and even worse, left the thing wide open for exploitation by the guys wearing the\n     <strong>really</strong> black hats.\n    </p>\n    <h2>Wear a White Hat</h2>\n    <p>\n     The Web is an amazing resource. It was built with openness and a free exchange of ideas and software,\n     and by a lot of very hard working people that you may never have heard of. Without Bill Joy, or Tim\n     Berners-Lee, or Larry Wall or any number of other people who didn't get rich, or ever\n     wanted to get rich, we wouldn't have the Web. Sadly, it's also awash with\n     rats and thieves. Often, some of their techniques are so sophisticated I have to wonder why they\n     don't expend some of that energy on legitimate enterprises. Even worse, many are mere\n     children who exchange little scripts and don't even understand what they're\n     doing and think it's cool trying bring down or deface someone's Web site.\n    </p></p><p>    <p>Not cool at all.</p>\n    <p>In closing, I leave you with your very own three line Perl user-agent:</p>\n    <pre>\n#!/usr/bin/perl\nuse LWP::Simple;\ngetprint shift;\n</pre>\n    <p>And please, buy yourself a white hat.</p>\n    <p class="note">\n     A humorous post on the history of this article is available on my <a href="http://loadaveragezero.com/app/s9y/index.php?/archives/29-Agents-in-the-Safehouse.html" title=" blogZero: Agents in the Safehouse ">blog</a>. You are welcome to\n     submit questions and comments there.\n    </p>\n