---
layout: post
permalink: node/174
ratings: 3
avgrate: 3.3333
categories: [Backend]
user: djc
real_name: "Daniel Cody"
user_biog: "<p>Dan lives a quiet life in the bustling city of Milwaukee, WI. Although he founded what would become evolt.org in 1998, he\'s since moved on to other projects and is now the owner of <a href=\"http://hostprogressive.com/\" title=\"Zimbra hosting, web hosting for Wisconsin\" rel=\"nofollow\">Progressive Networks, a Zimbra hosting</a> company based in Milwaukee.</p><p> His personal site can be found at <a href=\"http://dancody.org/\" title=\"Dan Cody\" rel=\"nofollow\">http://dancody.org/</a></p>"
user_since: 14 Dec 1998
avatar: 
article_count: 146
excerpt: "In the past couple years, the web has shifted from being a fun loving, care-free place to showcase your Pamela Lee collection to a serious, down to earth place for major companies to do business. What helped cause the shift was the ability to make interactive sites that served up relevant ..."
---
<p></p>In the past couple years, the web has shifted from being a fun loving, care-free place to showcase your Pamela Lee collection to a serious, down to earth place for major companies to do business. What helped cause the shift was the ability to make interactive sites that served up relevant information to the user. This in no small part was due to the use of CGI scripts. Tried and true, CGI is the force behind almost every search engine, bulletin board, and guestbook on the web.</p></p></p> </p><p></p>As a Java programmer,   I didn't want to have to learn a language like perl to make an email form or to search my site. Sure, I could write another applet, but what if the user's browser doesn't support Java, or they have it turned off altogether? CGI scripts are notoriously slow (you have to start a new process for every CGI request) and aren't scaleable (for the same reason). After a bit of poking around, I found the answer to all these needs : Java Servlets.</p></p></p><p><h2>What are they?</h2></p><p><p></p>Basically, servlets can be thought of as server side Java. Servlets run in the webserver just like an applet runs in the browser, but the great thing is that only YOU need to have Java support, all they need is a browser window. Just like running an applet an the browser, you need a Java Virtual Machine(JVM) to run a servlet. Also, your webserver has to support the Java Servlet API. This API, developed by JavaSoft, defines how the servlet communicates with the server. The webserver I use and like to recommend to my friends and clients is Suns Java Webserver because it supports the servlet API and comes with its own JVM.</p></p></p><p><p></p>So, are you left out of the servlet experience if you don't have the Java Webserver? Of course not. There are 3rd party server add-ons them that are available for almost every webserver. A good list can be found at <a href="http://jeeves.javasoft.com/" target="_blank">http://jeeves.javasoft.com</a>. </p></p></p><p><p></p>So now that you understand how to make them work on your server, let's show a simple servlet that will get a user's name and email address and prints it back to a page. </p></p></p><p><pre></p>import java.io.*;</p>import java.util.*;</p><p>import javax.servlet.*; /* call the servlet methods here*/</p>import javax.servlet.http.*;</p><p>public class SimpleFormServlet extends HttpServlet { </p><p>    public void service(HttpServletRequest req, HttpServletResponse res)</p>        throws IOException</p>    {</p>        Enumeration keys;</p>        </p>                </p>/*the parameters we are getting from the &lt;input&gt; tag in our HTML file*/</p>        String name = req.getParameter(&quot;name&quot;);</p>        String email = req.getParameter(&quot;email&quot;);</p><p></p>/*Start building our generated HTML page here*/</p><p>        res.setContentType(&quot;text/html&quot;);</p>        ServletOutputStream out = res.getOutputStream();</p>out.println(&quot;&lt;HEAD&gt;&lt;TITLE&gt; Our Output   &lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;&quot;);</p>       </p>out.println(&quot;&lt;h1&gt; The name and email from our servlet : &lt;/h1&gt;&quot;);      </p><p>/*Print out our param's here..*/</p><p>        out.println(&quot;&lt;P&gt; &lt;b&gt;Name was:&lt;/b&gt; &quot; +name);</p>        out.println(&quot;&lt;P&gt; &lt;b&gt;Email was:&lt;/B&gt; &quot; +email);</p>        out.println(&quot;&lt;/BODY&gt;&lt;/HTML&gt;&quot;);</p>    }</p><p>    public String getServletInfo() {</p>        return &quot;A simple servlet&quot;;</p>    }</p>}</p></pre></p><p><p></p>The first thing you may notice while looking at the source is the <strong>import javax.servlet.*;</strong> line.  This is simply importing methods (such as how to post and retrieve information to and from the webserver) that we use in servlets from the Java Servlet Developers Kit(JSDK).  If you have any version of the JDK 1.1.x (such as 1.1.4) you will need to <a href="http://java.sun.com" target="_blank">download the new  version of the JDK</a> that has the JSDK included within it. Two for the price of one :)  As for what we needed in the HTML page, it is fairly minimal : </p></p></p><p><pre></p>&lt;FORM ACTION=&quot;http://yourserver/servlet/SimpleFormServlet&quot; METHOD=&quot;POST&quot;&gt;</p>&lt;P&gt;</p>Your Name: &lt;INPUT NAME=&quot;name&quot; TYPE=&quot;text&quot; SIZE=&quot;30&quot; MAXLENGTH=&quot;90&quot;&gt;</p>&lt;P&gt;</p>Your Email Address: &lt;INPUT NAME=&quot;email&quot; TYPE=&quot;text&quot; SIZE=&quot;30&quot; MAXLENGTH=&quot;90&quot;&gt;</p>&lt;P&gt;</p>&lt;INPUT NAME=&quot;submit&quot; TYPE=&quot;submit&quot; VALUE=&quot;Submit to Mail Servlet&quot;&gt;&lt;BR&gt;</p>&lt;INPUT NAME=&quot;name&quot; TYPE=&quot;reset&quot; VALUE=&quot;Clear this Form&quot;&gt;&lt;BR&gt;</p>&lt;/FORM&gt;</p></pre></p><p><p></p>Looking at the source of the servlet, you can see where we ask for the 'name' and 'email' parameters, and then how we put them back into the HTML page that we generate. You could add as many parameters as you wanted to get from the user, and put them back into the generated HTML code in hundreds of different combinations.</p></p></p><p><p></p>Sure, this is an extremely simple example of a servlet, but it shows how basic data is passed between the HTML form and the Java servlet. More complex uses for servlets are showing up all the time. In my next article on servlets, we'll get in to some more complex uses for them like e-mailing form information to you, using them for counters, and uploading files to the webserver. </p><p></p><p><p></p>As an alternative to CGI based scripts, servlets are a scaleable solution with the potential to help create dynamic, interactive, and informative sites. So try some out, re-write them, and have fun with an awesome alternative to CGI!</p></p></p><p><p></p>Do you agree or disagree? Have a comment on servlets? <a href="mailto:djc@members.evolt.org">Let me know</a> or post a comment below.</p></p>