---
layout: post
permalink: node/704
ratings: 0
avgrate: 
user: Seb
real_name: "Seb Potter"
user_since: 1999-04-22
avatar: ""
article_count: 19
excerpt: "If you're using Javascript functions to populate HTML tables, etc., and you find you have a lot of HTML mixed with your code, stop!   Encapsulation is the process of separating out functions within y"
---
<p>If you're using Javascript functions to populate HTML tables, etc., and you find you have a lot of HTML mixed with your code, <b>stop</b>!  </p> <p>Encapsulation is the process of separating out functions within your code, but also describes separating the function of your code from a the form (or design) of your page. Instead of embedding the HTML in your function calls, export the data that you need from your function as an object, and then use simple control loop to iterate through that object and populate your page within the HTML.</p> <p>eg:</p> </p><p><code><pre></p>&lt;%</p><p>function blahBlah(myInput) { </p><p>    for (i=0; i&lt;3000; i++) { </p>    	myname = &lt;result of series of operations&gt;;</p>        myurl = &lt;result of a series of operations&gt;; </p>    	myObject[i] = {name:name, url:url}; </p>    	} </p>    return myObject; </p>}</p><p> %&gt; </p> </pre></p> </code></p><p><p>Then in your HTML, you just need the following, regardless of the complexity of the previous functions: </p> </p><code></p><pre></p>&lt;table&gt;</p>&lt;tr&gt;</p>&lt;td&gt;page name&lt;/td&gt; </p>&lt;td&gt;link&lt;/td&gt; </p>&lt;/tr&gt;</p><p>&lt;% </p><p>var myObject = blahBlah(someInput); var ol = myObject.length; </p><p>for (i=0; i&lt;ol ; i++) { </p><p>%&gt; </p>&lt;tr&gt; </p>&lt;td&gt;&lt;% = myObject[i].name %&gt;&lt;/td&gt; </p>&lt;td&gt;&lt;a href=&quot;&lt;% = myObject[i].url %&gt;&quot;&gt;link&lt;/a&gt;&lt;/td&gt; </p>&lt;/tr&gt;</p><p>&lt;% </p><p>} </p><p>%&gt; </p><p>&lt;/table&gt;</p> </p></pre></p></code> </p><p><p>Some good things about this method: </p> <ol> <li>You can totally separate your code from your HTML, allowing designers to change the HTML without giving you a heart-attack.</li> <li>The complexity of your function to populate the object can be hideous without you needing to worry about fitting it to the design.</li> <li>Because your enumerators (like the variable i) are stored at function level, there's no problem with scope.</li> <li>The function is totally reuseable within other HTML pages that have a different design without requiring a rewrite.</li> <li>Dreamweaver won't choke on your code and mangle it.</li> <li>Makes debugging incredibly easier.</li> </ol>  <p></p> <P>