---
layout: post
permalink: node/704
ratings: 0
avgrate: 
rating: 3.89
categories: [Code]
user: Seb
real_name: "Seb Potter"
user_biog: "<p><a href=\"http://poked.org\" rel=\"nofollow\" target=\"_blank\" title=\"Seb's site\">Seb</a> is a Jedi Master in the art of creating sites and keeping servers running. This often means hitting them repeatedly with forces that defy rational explanation, though he prefers to descibe it as \"administration\". When he's not practising his percussive skills on E450s and AS400s, he can be found masquerading as the senior developer for some <a href=\"http://www.getfrank.com\" rel=\"nofollow\" target=\"_blank\" title=\"My current employer's website\">widely varied clients</a>. It's still not certain whether or not the meanings of CMS, CRM, and B2B have penetrated the alcoholic fog enveloping his brain, but he makes convincing noises to customers about XML, XSLT, Python, J2EE, PHP, Perl, C++, and OpenGL.</p>
<p><a href=\"http://poked.org\" rel=\"nofollow\" target=\"_blank\" title=\"Seb's site\">Seb</a> has been in the web game pretty much since it began, and still has fond memories of the time when a web could be swept aside with a duster and spam was pork luncheon meat. Despite being the developer of one of the first commerce sites in Europe, he has yet to make any real money.</p>
<p>Being English, <a href=\"http://poked.org\" rel=\"nofollow\" target=\"_blank\" title=\"Seb's site\">Seb</a> doesn't like SOAP, but instead has recently discovered something called <a href=\"http://www.zope.org\" rel=\"nofollow\" target=\"_blank\" title=\"Zope website\">ZOPE</a>. Zope is a platform that runs <a href=\"http://plone.org\" rel=\"nofollow\" target=\"_blank\" title=\"Plone. It's cool.\">Plone</a> which he thinks is the coolest thing since <a href=\"http://www.opengl.org\" rel=\"nofollow\" target=\"_blank\" title=\"OpenGL site\">high-performance, real-time 3D APIs</a>, which he often writes small games in.</p>
<p><a href=\"http://poked.org\" rel=\"nofollow\" target=\"_blank\" title=\"Seb's site\">Seb</a> lives in <a href=\"http://www.brighton.co.uk\" rel=\"nofollow\" target=\"_blank\" title=\"Brighton\">the best little city in the world</a>, and used to commute 5 hours a day on British trains. He is subsequently immune to all forms of <a href=\"http://www.google.com/search?q=monty+python+spanish+inquisition\" rel=\"nofollow\" target=\"_blank\" title=\"Nobody expects this\">torture techniques</a>.</p>"
user_since: 22 Apr 1999
avatar: 
article_count: 19
excerpt: "If you're using Javascript functions to populate HTML tables, etc., and you find you have a lot of HTML mixed with your code, stop!   Encapsulation is the process of separating out functions within y"
---
<p>If you're using Javascript functions to populate HTML tables, etc., and you find you have a lot of HTML mixed with your code, <b>stop</b>!  </p> <p>Encapsulation is the process of separating out functions within your code, but also describes separating the function of your code from a the form (or design) of your page. Instead of embedding the HTML in your function calls, export the data that you need from your function as an object, and then use simple control loop to iterate through that object and populate your page within the HTML.</p> <p>eg:</p> </p><p><code><pre></p>&lt;%</p><p>function blahBlah(myInput) { </p><p>    for (i=0; i&lt;3000; i++) { </p>    	myname = &lt;result of series of operations&gt;;</p>        myurl = &lt;result of a series of operations&gt;; </p>    	myObject[i] = {name:name, url:url}; </p>    	} </p>    return myObject; </p>}</p><p> %&gt; </p> </pre></p> </code></p><p><p>Then in your HTML, you just need the following, regardless of the complexity of the previous functions: </p> </p><code></p><pre></p>&lt;table&gt;</p>&lt;tr&gt;</p>&lt;td&gt;page name&lt;/td&gt; </p>&lt;td&gt;link&lt;/td&gt; </p>&lt;/tr&gt;</p><p>&lt;% </p><p>var myObject = blahBlah(someInput); var ol = myObject.length; </p><p>for (i=0; i&lt;ol ; i++) { </p><p>%&gt; </p>&lt;tr&gt; </p>&lt;td&gt;&lt;% = myObject[i].name %&gt;&lt;/td&gt; </p>&lt;td&gt;&lt;a href=&quot;&lt;% = myObject[i].url %&gt;&quot;&gt;link&lt;/a&gt;&lt;/td&gt; </p>&lt;/tr&gt;</p><p>&lt;% </p><p>} </p><p>%&gt; </p><p>&lt;/table&gt;</p> </p></pre></p></code> </p><p><p>Some good things about this method: </p> <ol> <li>You can totally separate your code from your HTML, allowing designers to change the HTML without giving you a heart-attack.</li> <li>The complexity of your function to populate the object can be hideous without you needing to worry about fitting it to the design.</li> <li>Because your enumerators (like the variable i) are stored at function level, there's no problem with scope.</li> <li>The function is totally reuseable within other HTML pages that have a different design without requiring a rewrite.</li> <li>Dreamweaver won't choke on your code and mangle it.</li> <li>Makes debugging incredibly easier.</li> </ol>  <p></p> <P>