---
layout: post
permalink: node/3268
ratings: 3
avgrate: 4.3333
user: joshua
real_name: "Joshua Olson"
user_since: 2000-09-21
avatar: "/images/pictures/picture-3243.jpg"
article_count: 3
excerpt: "Have you ever developed a web application with Sans-Serif fonts, just to be annoyed that on two of your pages the font suddenly changes back to Times Roman half way down. If you have, then you were us"
---
<P>Have you ever developed a web application with Sans-Serif fonts, just to be annoyed that on two of your pages the font suddenly changes back to Times Roman half way down. If you have, then you were using Netscape with styles. The situation has almost always been contributed to poor programming in Netscape and is often dealt with by using <CODE>&lt;FONT&gt;</CODE>'s and other poor practices to circumnavigate the real issue. But, the source of the errors has been discovered, and it is avoidable. It is a Netscape programming flaw; but, it is also due in part to Web Developer�s putting too much faith in Netscape�s bookkeeping ability. Before I explain the problem directly we must have a way to</P></p><P><B>Visualize How Netscape Handles Styles</B></P></p><P>Netscape starts parsing the page for display content at the <CODE>&lt;BODY&gt;</CODE> tag. At that point it has the style of the <CODE>&lt;BODY&gt;</CODE> in memory and uses it for all content. When Netscape encounters a section that overrides the <CODE>&lt;BODY&gt;</CODE>�s style--like a <CODE>&lt;DIV&gt;</CODE> with a <I>style</I>, <I>id</I>, or <I>class</I> attribute, or is styled with a selector in an inline or external style sheet--then Netscape pushes the <CODE>&lt;BODY&gt;</CODE>�s style onto a stack. If the new style does not explicitly identify every style for <I>font</I> and <I>text</I>, then it uses the information from the pushed style. *Note: Netscape neither supports nor "cascades" every <I>font</I> and <I>text</I> style, but a majority of those it does support it does cascade. It does not, for example, cascade text-decoration: blink, while it does cascade text-decoration: underline. (Go figure.)</P></p><P><B>Netscape Does Not Cascade Styles Into <CODE>&lt;TABLES&gt;</CODE></B>'s, and therefore may or may not push them onto the stack, but it definitely ignores the <I>font</I> and <I>text</I> styles up to that point.</P></p><P>That by itself is not a problem. It could be argued that you do not want to propagate styles into a table. But something happens to Netscape in tables. It seems to panic when it hits tables and start popping styles off the stack. When the <CODE>&lt;/TABLE&gt;</CODE> is reached, we have fewer styles on the stack and a couple of &lt;/DIV&gt;�s later and we have lost all styles. If the <CODE>&lt;FONT&gt;</CODE> was specified in the <CODE>&lt;BODY&gt;</CODE> only, then we are left without ANY reference to <I>font</I> and <I>text</I> styles. But what causes Netscape to panic in tables?</P></p><P><B>Malformed Tables Cause Netscape to Panic</B></P></p><P>Netscape is very strict on its rules with tables. Practices that are common, as I will show, can leave Netscape wondering what to do, therefore making it panic, and causing styles to be popped off the stack before the end tags.</P></p><P>So, to avoid making Netscape panic (since it does not make any sense to avoid styling TD�s) it is necessary to form tables correctly. Listed below is a list of no-no�s for creating tables. First off, Netscape only fails in the manner described if a <CODE>&lt;TD&gt;</CODE> within the table is styled through an <I>ID</I>, <I>CLASS</I>, or SELECTOR. The <I>STYLE</I> attribute to a <CODE>&lt;TD&gt;</CODE> does not produce the same failures. Though the list looks like common sense at first, if you have experienced problems with styles in Netscape, then you have made at least one of these--so, pay attention:</P></p><P>A malformed table exhibits at LEAST ONE of these characteristics</P></p><UL></p><LI>At least one column has no pixel widths in a pixel width table.</LI></p><LI>A single column has mixed percentage and pixel widths</LI></p><LI>The table is defined with a percentage width. (Unfortunately, almost all configurations of this fail)</LI></p><LI>At least one column is percentage width in a table and one of border, cellpadding, and cellspacing is not equal to 0.</LI></p><LI>The summation of column widths of the table does not add up to the table width. The specified width of the <CODE>&lt;TABLE&gt;</CODE> should take into consideration not only the cell widths, but also the border, cellpadding, and cellspacing. (Count pixels like your styles depended on it)</LI></p><LI>Percentage width columns should ONLY be used for tables with border, padding, and spacing=0.</LI></p><LI>For each column, its percentage width * the table pixel width must be an integer. ie, you cannot split a 102 pixel table into three columns of 50%, 25%, and 25%. (102 x 0.25 = 25.5, which is not an integer) Gone of the days of a column being 25% of a table spanning 90% of the page and centered.</LI></p><LI><B>and the list goes on and on...</B></LI></UL></p><P>Things to remember (web developers usually include all attributes to <CODE>&lt;TABLE&gt;</CODE>'s anyways, but):</P></p><UL></p><LI>If omitted, <I>cellpadding</I>="1" is default</LI></p><LI>If omitted, <I>cellspacing</I>="2" is default</LI></p><LI>If omitted, even though no border is shown on the display by default, <I>border</I>=1 is spatially rendered, and therefore must be figured into <CODE>&lt;TABLE&gt;</CODE> width calculations.</LI></UL></p><P>A table can cause a failure multiple times depending on the number of rows and columns. The logic behind the failures is consistent, but the behavior is complex. Further study into the behavior might produce a solid algorithm for predicting the number of failures, but since even one failure is unacceptable, it�s easier to simply form the tables correctly.</P></p><P>The failures can add up quickly, but the result is the same, styles are popped off the stack prematurely and the rest of the document from there down gets munched.</P></p><P><B>But Who Cares, I Put EVERYTHING in <CODE>&lt;TD&gt;</CODE>�s</B></P></p><P>Now, these rules can be broken and the browser will not crash. And, there are ways to avoid the problems associated with breaking the table rules. You could, for example, violate the rules on the outermost table if you do not plan on having any content at the <CODE>&lt;BODY&gt;</CODE> level after it. Or, you could place all displayable content in <CODE>&lt;DIV&gt;</CODE>�s and mandate a fully preemptive (every applicable style is declared) class on every <CODE>&lt;DIV&gt;</CODE>, or even put all content in a large <CODE>&lt;TABLE&gt;</CODE>.</P></p><P>But, even if you are cautious, it can happen that you notice nasty style droppings everywhere. So, if you do, check those tables carefully.</P></p><p>Thanks in large part to <A href="http://www.evolt.org/user/jeff/15/index.html">.jeff</A> for help compiling the information for this article.</p></p><p>