---
layout: post
permalink: node/16286
---
<p>A member of <a href="http://lists.evolt.org/index.cfm/a/listinfo/" target="_blank" title="Visit for information about thelist">thelist</a> recently inquired about a JavaScript that would give the visitor of his webpage the choice of whether links should open in the same window, a new window for all, or new windows for each. I figured this was a fun opportunity to write the JavaScript to allow the user to choose the target of certain links on the page.</p></p><p><h2>Possible Solutions</h2></p><p><p>In order to address this problem with the best solution we should think of as many ways to solve it as possible. Which method is the best will depend on your needs.</p></p><p><ol>\n  <li>Add an <code>onClick</code> event handler to links that will be affected by the user's choice</li>\n  <ul>\n    <li><strong>Advantages</strong></li>\n    <ul>\n      <li>You can attach this to only those links you wish to have this functionality.</li>\n      <li>No calculations regarding targets is made until the link is clicked.</li>\n    </ul>\n    <li><strong>Disadvantages</strong></li>\n    <ul>\n      <li>You have to attach it to every link you want it to effect. This could be time-consuming depending on how many links we're talking about.</li>\n      <li>If you wished to have a mechanism to allow the user to affect all the links you would have no way of doing it without adding the function call to the onClick event handler for every link.</li>\n    </ul>\n    <li><strong>Application</strong></li>\n    <ul>\n      <li>This is best suited for those times when you only want this functionality to work on a few links in a page.</li>\n    </ul>\n  </ul>\n  <li>We could alter the value of the <code>target</code> attribute for every link in the page.</li>\n  <ul>\n    <li><strong>Advantages</strong></li>\n    <ul>\n      <li>We don't have to alter any of the links on the page. We just call a function that handles the setting of the value of the <code>target</code> attribute of the link to the appropriate value depending on which choice is selected.</li>\n    </ul>\n    <li><strong>Disadvantages</strong></li>\n    <ul>\n      <li>Every link on the page would be affected.</li>\n      <li>There's no mechanism to turn off the behavior for certain links like on-site navigation.</li>\n    </ul>\n    <li><strong>Application</strong></li>\n    <ul>\n      <li>This is perfect for a page full of links and you want them all to be affected.  This is especially nice when the links on the page are constantly being added/edited/removed since you don't have &quot;attach&quot; this functionality to the links individually.</li>\n    </ul>\n  </ul>\n  <li>We could alter the value of the <code>target</code> attribute for only those links in the page that are marked for alteration.</li>\n  <ul>\n    <li><strong>Advantages</strong></li>\n    <ul>\n      <li>We could have different sets of links attached to different mechanisms.</li>\n      <li>We could have a mechanism that would affect all the links on the page.</li>\n    </ul>\n    <li><strong>Disadvantages</strong></li>\n    <ul>\n      <li>We'd have to alter those links we wanted to have use this functionality.</li>\n      <li>The function is altering all the marked links on the page whenever the selection is changed.</li>\n    </ul>\n    <li><strong>Application</strong></li>\n    <ul>\n      <li>Want ultimate flexibility?  You've got it with this.</li>\n    </ul>\n  </ul>\n</ol></p><p><p>No matter which method you decide to use, you need to give the user some means of triggering the choice. For simplicity let's make them a group of radio buttons. It could just as easily be links that change the value of a JavaScript variable with their <code>onClick</code> event handler. Or, it could be a dropdown menu that calls a function with its <code>onChange</code> event handler. It doesn't much matter, the end result is the same. With this information in mind, let's dig in.</p></p><p><h2>Solution 1 - Using the <code>onClick</code> event handler of the link</h2></p><p><h3>The Options</h3></p><p><p>This method assumes that the radio buttons won't actually affect anything when they're clicked. They will only serve as a mechanism to store and display the user's choice. With that in mind, here's the code for the radio buttons.</p></p><p><pre>&lt;form&gt;\n  [&lt;input type="radio"\n          name="target"\n          id="target_self_0"\n          value="_self"\n          tabindex="1"\n          title="Open links in this window"\n          onClick="targetForm = this.form"\n          checked&gt;\n   &lt;label for="target_self_0"\n          accesskey="s"\n          title="Open links in this window"\n   &gt;&lt;u&gt;S&lt;/u&gt;elf&lt;/label&gt;]\n  [&lt;input type="radio"\n          name="target"\n          id="target_same_0"\n          value="_same"\n          tabindex="2"\n          title="Open links in the same new window"\n          onClick="targetForm = this.form"&gt;\n   &lt;label for="target_same_0"\n          accesskey="a"\n          title="Open links in same new window"\n   &gt;S&lt;u&gt;a&lt;/u&gt;me&lt;/label&gt;]\n  [&lt;input type="radio"\n          name="target"\n          id="target_blank_0"\n          value="_blank"\n          tabindex="3"\n          title="Open links in a new window for each link"\n          onClick="targetForm = this.form"&gt;\n   &lt;label for="target_blank_0"\n          accesskey="n"\n          title="Open links in a new window for each link"\n   &gt;&lt;u&gt;N&lt;/u&gt;ew&lt;/label&gt;]\n&lt;/form&gt;</pre></p><p><h3>The Links</h3></p><p><p>The links are where the action is initiated. So, we need to attach some <code>onClick</code> event handlers to them.  The <code>onClick</code> event handler will call the function in such a way that the event handler will be expecting a value to be returned from the function before it can do anything.  This will allow us to alter the value of the <code>target</code> attribute before the browser follows the link.</p></p><p><pre>&lt;a href=&quot;http://www.evolt.org/&quot;\n   onClick=&quot;return setTarget_0(this)&quot;\n&gt;evolt.org&lt;/a&gt;\n&lt;a href=&quot;http://www.slashdot.org/&quot;\n   onClick=&quot;return setTarget_0(this)&quot;\n&gt;/.&lt;/a&gt;\n&lt;a href=&quot;http://www.microsoft.com/&quot;\n   onClick=&quot;return setTarget_0(this)&quot;\n&gt;Microsoft&lt;/a&gt;\n&lt;a href=&quot;http://www.netscape.com/&quot;\n   onClick=&quot;return setTarget_0(this)&quot;\n&gt;Netscape&lt;/a&gt;</pre></p><p><h3>The Function</h3></p><p><p>To finish this up we're going to need a function that sets the value of the <code>target</code> attribute of the clicked link to match the choice the user made with the radio buttons. After setting the target we'll then need to return a boolean value, <code>true</code>, to the event handler so the browser will execute the click action of the user and follow the link.</p></p><p><p><small>[Note:  See my article <a href="/article/JavaScript_The_Point_of_No_Return/17/8869/">JavaScript: The Point of No Return?!</a> for an explanation of how return statements affect event handlers that can have their action canceled.]</small></p></p><p><pre>&lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot;&gt;\n&lt;!-- \n  var targetForm = null;</p><p>  function setTarget_0(obj)\n  {\n    if(targetForm != null)\n    {\n      targetLen = targetForm.elements['target'].length;\n      targetText = '_self';\n      for(t = 0; t &lt; targetLen; t++)\n      {\n        if(targetForm.elements['target'][t].checked)\n        {\n          targetText = targetForm.target[t].value;\n          break;\n        }\n      }\n      obj.target = targetText;\n    }\n    return true;\n  }\n// --&gt;\n&lt;/script&gt;</pre></p><p><h3>The Result</h3></p><p><script language="JavaScript" type="text/javascript">\n<!--\n  var targetForm = null;</p><p>  function setTarget_0(obj)\n  {\n    if(targetForm != null)\n    {\n      targetLen = targetForm.elements['target'].length;\n      targetText = '_self';\n      for(t = 0; t < targetLen; t++)\n      {\n        if(targetForm.elements['target'][t].checked)\n        {\n          targetText = targetForm.target[t].value;\n          break;\n        }\n      }\n      obj.target = targetText;\n    }\n    return true;\n  }\n// -->\n</script></p><p><table cellpadding="5" cellspacing="10" border="0" class="border">\n<tr>\n  <td class="side">\n    [<input type="radio" id="target_self_0" name="target" tabindex="1" title="Open links in this window" value="_self" class="side" onClick="targetForm = this.form" checked>\n     <label accesskey="s" for="target_self_0" title="Open links in this window"><u>S</u>elf</label>]\n    [<input id="target_same_0" name="target" tabindex="2" title="Open links in the same new window" type="radio" value="_same" class="side" onClick="targetForm = this.form">\n     <label accesskey="a" for="target_same_0" title="Open links in same new window">S<u>a</u>me</label>]\n    [<input id="target_blank_0" name="target" tabindex="3" title="Open links in a new window for each link" type="radio" value="_blank" class="side" onClick="targetForm = this.form">\n     <label accesskey="n" for="target_blank_0" title="Open links in a new window for each link"><u>N</u>ew</label>]\n  <hr noshade size="1" width="250">\n  <ul>\n    <li><a href="http://www.evolt.org/" onClick="return setTarget_0(this)" class="sidebar">evolt.org</a></li>\n    <li><a href="http://www.slashdot.org/" onClick="return setTarget_0(this)" class="sidebar">/.</a></li>\n    <li><a href="http://www.microsoft.com/" onClick="return setTarget_0(this)" class="sidebar">Microsoft</a></li>\n    <li><a href="http://www.netscape.com/" onClick="return setTarget_0(this)" class="sidebar">Netscape</a></li>\n  </ul>\n  </td>\n</tr>\n</table></p><p><h2>Solution 2 - Changing the <code>target</code> Attribute for every link</h2></p><p><h3>The Options</h3></p><p><p>This method assumes that the links are clueless as to any JavaScript that's used to affect what window they're to target. Instead, the <code>target</code> attributes will be altered when a radio button is clicked. With that in mind, here's the code for the radio buttons.</p></p><p><pre>&lt;form&gt;\n  [&lt;input type=&quot;radio&quot;\n          name=&quot;target&quot;\n          id=&quot;target_self&quot;\n          value=&quot;_self&quot;\n          tabindex=&quot;1&quot;\n          title=&quot;Open links in this window&quot;\n          onClick=&quot;setTarget_1(this.value)&quot; checked&gt;\n   &lt;label for=&quot;target_self&quot;\n          accesskey=&quot;s&quot;\n          title=&quot;Open links in this window&quot;\n   &gt;&lt;u&gt;S&lt;/u&gt;elf&lt;/label&gt;]\n  [&lt;input type=&quot;radio&quot;\n          name=&quot;target&quot;\n          id=&quot;target_same&quot;\n          value=&quot;_same&quot;\n          tabindex=&quot;2&quot;\n          title=&quot;Open links in the same new window&quot;\n          onClick=&quot;setTarget_1(this.value)&quot;&gt;\n   &lt;label for=&quot;target_same&quot;\n          accesskey=&quot;a&quot;\n          title=&quot;Open links in same new window&quot;\n   &gt;S&lt;u&gt;a&lt;/u&gt;me&lt;/label&gt;]\n  [&lt;input type=&quot;radio&quot;\n          name=&quot;target&quot;\n          id=&quot;target_blank&quot;\n          value=&quot;_blank&quot;\n          tabindex=&quot;3&quot;\n          title=&quot;Open links in a new window for each link&quot;\n          onClick=&quot;setTarget_1(this.value)&quot;&gt;\n   &lt;label for=&quot;target_blank&quot;\n          accesskey=&quot;n&quot;\n          title=&quot;Open links in a new window for each link&quot;\n   &gt;&lt;u&gt;N&lt;/u&gt;ew&lt;/label&gt;]\n&lt;/form&gt;</pre></p><p><h3>The Links</h3></p><p><p>The links are what could be considered &quot;dumb&quot; links in that they aren't aware in any way that they're being affected by JavaScript. So, unlike the last example, these links won't have any event handlers.</p></p><p><pre>&lt;a href=&quot;http://www.evolt.org/&quot;\n&gt;evolt.org&lt;/a&gt;\n&lt;a href=&quot;http://www.slashdot.org/&quot;\n&gt;/.&lt;/a&gt;\n&lt;a href=&quot;http://www.microsoft.com/&quot;\n&gt;Microsoft&lt;/a&gt;\n&lt;a href=&quot;http://www.netscape.com/&quot;\n&gt;Netscape&lt;/a&gt;</pre></p><p><h3>The Function</h3></p><p><p>To finish up this example we're going to need a function that sets the value of the target attribute for all links to match the choice the user made with the radio buttons.</p></p><p><pre>&lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot;&gt;\n&lt;!-- \n  function setTarget2(target)\n  {\n    for(a = 0; a &lt; document.links.length; a++)\n    {\n      document.links[a].target = target;\n    }\n  }\n// --&gt;\n&lt;/script&gt;</pre></p><p><h3>The Result</h3></p><p><script language="JavaScript" type="text/javascript">\n<!--\n  function setTarget_1(target)\n  {\n    for(a = 0; a < document.links.length; a++)\n    {\n      document.links[a].target = target;\n    }\n  }\n// -->\n</script></p><p><table cellpadding="5" cellspacing="10" border="0" class="border">\n<tr>\n  <td class="side">\n    [<input checked id="target_self_1" name="target" onClick="setTarget_1(this.value)" tabindex="1" title="Open links in this window" type="radio" value="_self" class="side">\n     <label accesskey="s" for="target_self_1" title="Open links in this window"><u>S</u>elf</label>]\n    [<input id="target_same_1" name="target" onClick="setTarget_1(this.value)" tabindex="2" title="Open links in the same new window" type="radio" value="_same" class="side">\n     <label accesskey="a" for="target_same_1" title="Open links in same new window">S<u>a</u>me</label>] \n    [<input id="target_blank_1" name="target" onClick="setTarget_1(this.value)" tabindex="3" title="Open links in a new window for each link" type="radio" value="_blank" class="side">\n     <label accesskey="n" for="target_blank_1" title="Open links in a new window for each link"><u>N</u>ew</label>]\n  <hr noshade size="1" width="250">\n  <ul>\n    <li><a href="http://www.evolt.org/" class="sidebar">evolt.org</a></li>\n    <li><a href="http://www.slashdot.org/" class="sidebar">/.</a></li>\n    <li><a href="http://www.microsoft.com/" class="sidebar">Microsoft</a></li>\n    <li><a href="http://www.netscape.com/" class="sidebar">Netscape</a></li>\n  </ul>\n  </td>\n</tr>\n</table></p><p><h2>Solution 3 - Changing the <code>target</code> attribute for certain links</h2></p><p><h3>The Options</h3></p><p><p>This method assumes that the links are clueless as to any JavaScript that's used to affect what window they're to target. Instead, the <code>target</code> attributes will be altered when a radio button is clicked. The difference between this method and the last is that we'll &quot;mark&quot; certain links for alteration by adding the <code>name</code> attribute and giving it the same value for all instances. With that in mind, here's the code for the radio buttons.</p></p><p><pre>&lt;form&gt;\n  [&lt;input type=&quot;radio&quot;\n          name=&quot;target&quot;\n          id=&quot;target_self_2&quot;\n          value=&quot;_self&quot;\n          tabindex=&quot;1&quot;\n          title=&quot;Open links in this window&quot;\n          onClick=&quot;setTarget_2(this.value)&quot; checked&gt;\n   &lt;label for=&quot;target_self_2&quot;\n          accesskey=&quot;s&quot;\n          title=&quot;Open links in this window&quot;\n   &gt;&lt;u&gt;S&lt;/u&gt;elf&lt;/label&gt;]\n  [&lt;input type=&quot;radio&quot;\n          name=&quot;target&quot;\n          id=&quot;target_same_2&quot;\n          value=&quot;_same&quot;\n          tabindex=&quot;2&quot;\n          title=&quot;Open links in the same new window&quot;\n          onClick=&quot;setTarget_2(this.value)&quot;&gt;\n   &lt;label for=&quot;target_same_2&quot;\n          accesskey=&quot;a&quot;\n          title=&quot;Open links in same new window&quot;\n   &gt;S&lt;u&gt;a&lt;/u&gt;me&lt;/label&gt;]\n  [&lt;input type=&quot;radio&quot;\n          name=&quot;target&quot;\n          id=&quot;target_blank_2&quot;\n          value=&quot;_blank&quot;\n          tabindex=&quot;3&quot;\n          title=&quot;Open links in a new window for each link&quot;\n          onClick=&quot;setTarget_2(this.value)&quot;&gt;\n   &lt;label for=&quot;target_blank_2&quot;\n          accesskey=&quot;n&quot;\n          title=&quot;Open links in a new window for each link&quot;\n   &gt;&lt;u&gt;N&lt;/u&gt;ew&lt;/label&gt;]\n&lt;/form&gt;</pre></p><p><h3>The Links</h3></p><p><p>The links are what could be considered &quot;dumb&quot; links in that they aren't aware in any way that they're being affected by JavaScript. So, like the last example, these links won't have any event handlers. However, unlike the last example these links will have <code>name</code> attributes and a common value.</p></p><p><pre>&lt;a href=&quot;http://www.evolt.org/&quot;\n   name=&quot;target&quot;\n&gt;evolt.org&lt;/a&gt;\n&lt;a href=&quot;http://www.slashdot.org/&quot;\n   name=&quot;target&quot;\n&gt;/.&lt;/a&gt;\n&lt;a href=&quot;http://www.microsoft.com/&quot;\n   name=&quot;target&quot;\n&gt;Microsoft&lt;/a&gt;\n&lt;a href=&quot;http://www.netscape.com/&quot;\n   name=&quot;target&quot;\n&gt;Netscape&lt;/a&gt;</pre></p><p><h3>The Function</h3></p><p><p>To finish up this example we're going to need a function that sets the value of the <code>target</code> attribute for all &quot;marked&quot; links to match the choice the user made with the radio buttons. This function will differ from the previous one in that it will check to make sure the value of the <code>name</code> attribute of the link it's going to change matches the name of the radio buttons the user is interacting with.</p></p><p><pre>&lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot;&gt;\n&lt;!-- \n  function setTarget_2(obj)\n  {\n    for(a = 0; a &lt; document.links.length; a++)\n    {\n      if(document.links[a].name == obj.name)\n        document.links[a].target = obj.value;\n    }\n  }\n// --&gt;\n&lt;/script&gt;</pre></p><p><h3>The Result</h3></p><p><script language="JavaScript" type="text/javascript">\n<!--\n  function setTarget_2(obj)\n  {\n    for(a = 0; a < document.links.length; a++)\n    {\n      if(document.links[a].name == obj.name)\n        document.links[a].target = obj.value;\n    }\n  }\n// -->\n</script></p><p><table cellpadding="5" cellspacing="10" border="0" class="border">\n<tr>\n  <td class="side">\n    [<input checked id="target_self_2" name="target" onClick="setTarget_2(this)" tabindex="1" title="Open links in this window" type="radio" value="_self" class="side">\n     <label accesskey="s" for="target_self_2" title="Open links in this window"><u>S</u>elf</label>]\n    [<input id="target_same_2" name="target" onClick="setTarget_2(this)" tabindex="2" title="Open links in the same new window" type="radio" value="_same" class="side">\n     <label accesskey="a" for="target_same_2" title="Open links in same new window">S<u>a</u>me</label>]\n    [<input id="target_blank_2" name="target" onClick="setTarget_2(this)" tabindex="3" title="Open links in a new window for each link" type="radio" value="_blank" class="side">\n     <label accesskey="n" for="target_blank_2" title="Open links in a new window for each link"><u>N</u>ew</label>]\n  <hr noshade size="1" width="250">\n  <ul>\n    <li><a href="http://www.evolt.org/" name="target" class="sidebar">evolt.org</a></li>\n    <li><a href="http://www.slashdot.org/" name="target" class="sidebar">/.</a></li>\n    <li><a href="http://www.microsoft.com/" name="target" class="sidebar">Microsoft</a></li>\n    <li><a href="http://www.netscape.com/" name="target" class="sidebar">Netscape</a></li>\n  </ul>\n  </td>\n</tr>\n</table></p><p><p><strong>Note:</strong></p></p><p><ol>\n<li>the value of the name attribute should not be used as an internal anchor in\n    the page at any point</li>\n<li>the value of the name attribute must be the same value for all links</li>\n<li>the value of the name attribute for the  links to be targeted by the user should\n    exactly match the value of the name\n    attribute of the group of radio buttons\n    the developer wishes to tie to those\n    same link(s)</li>\n</ol></p><p><p>Did I thoroughly confuse you?</p></p><p><p>In theory you could get fancy and have a different set of controls for\ndifferent portions of links on the site.  You could have one set of controls\nfor all onsite links and another set for offsite links, or you could have\ncontrols for all links in a sidebar (like list of blogs or some such).  The\nimportant thing to note is that they're all tied by the value of the name\nattributes both on the radio buttons for the links and the name attribute of\nthe links to be affected themselves.</p></p><p><h4>Good Luck!</h4></p><p><p><a href="/user/jeff/15/">.jeff</a></p>