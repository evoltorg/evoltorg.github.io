---
layout: post
permalink: these-things-i-know-php-tips
ratings: 12
avgrate: 2.1667
user: 53x11
real_name: "Nick Schaffner"
user_since: 2005-09-06
avatar: "/images/pictures/picture-65802.gif"
article_count: 2
excerpt: "There is more than one way to achieve the same result when programming in PHP.  There are many shortcuts I wish someone had explained to me when I began learning the language. Here are my favorites."
---
<p></p>There is more than one way to achieve the same result when programming in PHP.  There are many shortcuts I wish someone had explained to me when I began learning the language.  (One would assume that is what those $49.99 books are for, but apparently there are only written to bewilder the reader into buying another book.)</p></p><p><h2>It All Adds Up</h2></p><code></p>$variable = $variable + 1;</code></p><p>Is the same as:</p></p><code></p>$variable ++;</code></p><p>This method also works for subtraction:</p></p><code></p>$variable --;</code></p><p><p>You can also apply a similar method for concocting strings.  So instead of:</p></p><code></p>$mytext = 'Done and Done.';</p>$mytext = "$mytext And I mean Done!"; // $mytext = 'Done and Done And I mean Done!';</code></p><p>Use this shorthand method of adding another string of text onto the end of the first string:</p></p><code></p>$mytext = 'Done and Done.';</p>$mytext .= ' And I mean Done!'; // $mytext = 'Done and Done And I mean Done!';</code></p><p></p><h2>Single Quotes versus Double Quotes</h2><br /></p><p>Any time you put something in &quot;double&quot; quotes, you are asking PHP to check that content for a variable.  So even though the following lines do not contain variables within the double quotes, PHP will still waste precious computing time scanning them anyway.</p></p><p><code></p>$mytext = "Dental Plan";</p>if ($mytext == "Dental Plan") {</p>echo "Lisa needs braces"; }</code></p><p><p>Those same three lines of code could be executed much faster if 'single' quotes were used in place of "double" quotes.</p></p></p><code></p>$mytext = 'Dental Plan';</p>if ($mytext == 'Dental Plan') {</p>echo 'Lisa needs braces'; }</code><br /></p><p></p>Now that may not seem like much, but having PHP check for variables where it doesn't need to over the course of a larger script, can certainly impede run-time.  Just to clarify my point, PHP will <em>not</em> read a variable if it is within 'single' quotes.</p></p></p><code></p>echo '$mytext, Lisa needs braces.';</p>// Will output: $mytext, Lisa needs braces.</p>echo "$mytext, Lisa needs braces.";</p>// Will output: Dental Plan, Lisa needs braces.</code></p><p></p>What is the the super-secret of keeping those scripts speeding along the rusty pipes of your server?  <strong>Avoid double quotes at all costs.</strong>  Even if you are working with a variable and think you need double quotes, it is more efficient for PHP to execute this:</p></p></p><code></p>echo $mytext . 'Lisa needs braces.';</code></p><p><p>As opposed to this bit of molasses-like code:</p></p><p><code></p>echo "$mytext Lisa needs braces.";</code></p><h2>One control structure to rule them all, One constant to find them, One set of conditional brackets to bring them all and in the darkness bind them</h2><br /></p><p><p>Not anymore!  If you have a single expression following a control structure, you do not need to waste your time with brackets <code>{ }</code>.</p></p><p><code></p>if ($gollum == 'halfling') {</p>$height --;</p>}</code></p><p><p>Is the same as:</p></p><p><code></p>if ($gollum == 'halfling') $height --;</code><br /></p><p><p>This can be applied to any control structure statement.  For example:</p></p><p><code></p>if ($gollum == 'halfling') $height --; </p>else $height ++;</p><p>if ($frodo != 'dead')</p>echo 'Gosh darnit, roll again Sauron';</p><p>foreach ($kill as $count)</p>echo 'Legolas strikes again, that makes' . $count . 'for me!';</code></p><p></p>The fewer brackets you have cluttering up your code, the easier it may be to read.</p></p></p><p><h2>They true did false, they were the trueiest bunch of falses that ever trued</h2></p><p><p>If all you are trying to test for is a boolean (true/false) of a variable or function then instead of laying down a bunch of code like this:</p></p><p><code></p>if ($blackbeard == true) echo 'Arr, this chair be high, says I.';</p>elseif ($seacaptain == false) echo 'Yar, I'm not attractive.';</code></p><p><p>You can omit <code>==</code> and <code>!=</code> with:</p><p><code></p>if ($blackbeard) echo 'Arr, this chair be high, says I.';</p>elseif (!$seacaptain) echo 'Yar, I'm not attractive.';</code></p><p><p>This same format can apply to functions and multiple conditions.  For example:</p></p><p><code></p>if ($benedict_arnold != true && strpos($photo,'map') == true)</p>echo 'You idiot, you can't read!';</p><p>if (high_chair($blackbeard) == false)</p>echo 'Aye, 'tis true.  My debauchery was my way of compensating.';</code></p><p><p>The following is the same exact statement (except with less code):</p></p><p><code></p>if (!$benedict_arnold && strpos($photo,'map'))</p>echo 'You idiot, you can't read!';</p><p>if (!high_chair($blackbeard))</p>echo 'Aye, 'tis true.  My debauchery was my way of compensating.';</code></p><p><h2>In and out of PHP before they even knew what hit 'em</h2></p><p><p>When embedding PHP within HTML, you can close your PHP tag whenever you want to output HTML.  This enables speedier processing of your PHP.  For instance:</p></p><p><code></p><?php if($bush_sewer) { ?></p><p><div class='neighbor'></p><strong>Hey Turkeys!  Behind ya!</strong></p></div></p><p><?php  } elseif (street($gorbachev)) { ?></p><p><div class='russian'></p><i>I just drop by with present for warming of house, instead find you grappling with <?php echo $local_oaf ?></i></p></div></p><p><?php</p><p>}</p><p>$name = 'Stu';</p>echo 'Disco' . $name . 'doesn't advertise...'; ?></p><p></code></p><p><p>Hopefully that last one didn't confuse you as much it confused me, the example is a <em>bit</em> extreme. However look over it a few times and you will understand exactly what is going on.</p></p></p><p><h2>A few more for the road...</h2></p><p><ol></p><li>Don't use spaces to format your code, use tabs.  Every space takes up 1 byte, every tab takes up 1 byte too.  So if you are using 4 spaces to make 1 tab, you will have added unnecessary bulk (and CPU time) to your code.</li></p><p><li>Learn <a href="http://evolt.org/node/22700/">Regular Expressions</a>, which are beyond the scope of this article.  However once mastered, you will transform into an unstoppable coder of such power that even your own expertise of regular expressions cannot calculate your might.</li></p><p><li><p>If you are dealing with external variables through get/post.  Always use <code>$_POST['variable']</code> or <code>$_GET['variable']</code>.  Assuming <code>$variable</code> can open a huge security hole into your script.  With the upgrade to PHP5, <code>register_globals</code> is turned off, by default - so scripts will be forced to use the above method.</p></p><p><p>Here is a code snippet to quickly gather <code>$_GET</code> and <code>$_POST</code> variables:</p></p><code></p>// $_POST['form_name'] = 'Anus Mcgee';</p><p>foreach ($_POST as $key => $value)</p>$$key = $value;</p><p>// Now $form_name = 'Anus Mcgee';</code></li></p></ol></p><p><h2>PHP Links and Resources</h2></p><p><ul></p><li><a href="http://php.net">PHP.net</a> - Online PHP manual</p><li><a href="http://www.zend.com/zend/art/mistake.php">Top 21 PHP Programming Mistakes</a></p><li><a href="http://www.regular-expressions.info">Regular Expressions</a> - Tutorials and examples</p><li><a href="http://www.regexlib.com">Regular Expression Library</a></p></ul></p><p><p>Hopefully a few of the examples I have demonstrated have made you hit yourself on the head and say - "I wish I had known that before!"  I think each one had that effect on me.</p></p>