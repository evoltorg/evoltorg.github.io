---
layout: post
permalink: node/60153
ratings: 8
avgrate: 4.0000
categories: [Software]
user: migurski
real_name: "Michal Migurski"
user_biog: "I lack a bio. Instead, enjoy some <a href=\"http://mike.teczno.com/visible_human\" rel=\"nofollow\">pretty</a> <a href=\"http://mike.teczno.com/freeways\" rel=\"nofollow\">images</a> on my <a href=\"http://mike.teczno.com\" rel=\"nofollow\">website</a>."
user_since: 22 Jan 2003
avatar: /images/pictures/picture-54133.jpg
article_count: 1
excerpt: "CVS, the Concurrent Versions System, is the developer&#8217;s magic bullet - it provides a centralized system for tracking changes, synchronizing edits from multiple contributors, and keeping numerous drafts of a project from getting out of hand."
---
<h2>Why? </h2></p><p><p>CVS, the Concurrent Versions System, is the developer&#8217;s magic bullet. It&#8217;s like an unusually patient project manager, but it doesn't harass you about deadlines, and it politely keeps your code in check. </p></p><p><p>Traditionally, CVS is intended for use in typical programming projects, and most of its provided examples are composed of makefiles and headers. If you can get past the strange handling of binary files and handle a paradigm shift or two, it makes a wonderful web development platform and organizational tool, and will become near-indispensable as you welcome it into your workflow.</p></p><p><p>In the following pages, I will explain some of the basics of using CVS in a typical web development workflow, and provide links to more helpful material on advanced topics.</p></p><p><h2>What?</h2></p><p><p>CVS &#8217; traditional selling point is the &#8216;C&#8217; in the name: concurrency. It provides a structure within which multiple developers can work on the same files simultaneously, and resolve conflicts without interrupting work. CVS&#8217; benefits also extend to the single developer: every version of a file kept in CVS is stored permanently, so changes can be tracked and historical versions of files can be resurrected where necessary. CVS frees you from the nagging worries of making mistakes, by providing a powerful, global UNDO feature.</p></p><p><h2>Who?</h2></p><p><p>You don&#8217;t need special privileges to use CVS: most Unix and Linux distributions (including Mac OS X&#8217;s developer tools CD) include it by default, and many GUI clients for Windows, Mac, and Linux are available. A CVS <code>repository</code> (see below) can be created anywhere.</p></p><p><h2>How?</h2></p><p><p>CVS is a client/server application. The master copy&#160;of a project is stored in a <code>module</code>, in the <code>repository</code> (a <code>repository</code> can contain multiple <code>modules</code>, each of which normally corresponds to a given project), and individual users download copies into a local <code>checkout</code>, modify files there, and then <code>commit</code> them back in to the <code>repository</code>. CVS tells you if the changes you&#8217;ve made are in conflict with someone else&#8217;s, and whether someone else has made changes that might affect you.</p></p><p><p>This means that all of your work takes place in your local sandbox. You don&#8217;t even have to think about CVS until it&#8217;s time to <code>commit</code> your changes back into the system, but you can feel free to edit or delete anything you want, safe in the knowledge that it will be faithfully resurrected if you choose to roll back. This also means that CVS&#8217; greatest benefits come to those who use it most often, constantly checking in batches of edits, and keeping the <code>repository</code> up-to-date with each new addition to a site.</p></p><p><p>The local sandbox method is extremely well suited to web development. Typically, each developer will maintain their own local copies of files, and perhaps also a personal space on a webserver where code can be tested with live data. As you segregate your work in this way, you will lessen potential conflicts and confusion - let CVS handle conflict resolution in its own way. When another user <code>commits</code> their changes to the <code>repository</code>, after you've checked out your working copy, you can <code>update</code> it to see their edits (and possible conflicts) reflected.</p></p><p><p>Even the live version of the site itself should be a CVS <code>checkout</code> - if you are willing to tolerate the existence of the "CVS" subdirectories that CVS uses to maintain information about the <code>repository</code> a given <code>checkout</code> belongs to, pushing <code>updates</code> to a live site can be as simple as a one-line <code>update</code> command.</p></p><p><p>As you make changes to your local copy, you will want to know what you&#8217;ve done, how it differs from the <code>repository</code>, and what needs to be <code>committed</code>. CVS works on a per-file basis, so it has the drawback of not doing aggregate operations on lists of files, but many developers have written Perl or shell scripts to help interpret and use the output of CVS status requests. Reconciling your edits with the <code>repository</code> is a relatively simple matter of updating your copy to ensure that you are working with up-to-date file revisions, adding or removing files as needed (CVS must be explicitly told what needs to be added and what needs to be removed from the <code>repository</code>, and won&#8217;t apply these changes until you tell it to <code>commit</code> them), and <code>committing</code> your edits.</p></p><p><h2>Benefits and Pitfalls</h2></p><p><p>The above section describes a linear workflow, and only barely touches on the tip of the iceberg. CVS has a few other major benefits:</p></p><p><ul></p>  <li></p>    <h4>Automation</h4></p>    <p>Commands can be added to the loginfo file in your CVS <code>repository</code> root. Sometimes, it&#8217;s desirable to place a call to mail here, so that developers can be notified of changes to the <code>repository</code> at the time they are made.</p></p>    <p>If your <code>repository</code> lives on the same machine as your live site, you can add in a command to automatically <code>update</code> the live version, so that <code>committing</code> content is synonymous with publishing. <a target="_blank" href="http://www.cvshome.org/docs/manual/cvs_18.html#SEC173">Read more about automation on the CVS website.</a></p></p>  </li></p>  <li></p>    <h4>Branching</h4></p>    <p>Branches are a huge advantage offered by CVS. In addition to storing historical information about files, CVS can maintain separate, parallel histories for files, and easily coordinate merges between them. This means that one developer can be working on the live version of a site, while another adds sections or new features, and neither has to worry about the other&#8217;s activities until a decision is made to merge the two branches. </p>    <a target="_blank" href="http://cvsbook.red-bean.com/cvsbook.html#Branches">Read more about branching in <em>Open Source Development With CVS.</em></a></p></p>  </li></p></ul></p><p><h3>There are also pitfalls:</h3></p><p><ul></p>  <li></p>    <h4>Binary Files</h4></p>    <p>Unix, DOS and Macintosh all use different standard end-of-line delimiter characters, and CVS easily handles the differences, serving up carriage returns to a Mac client and carriage return linefeeds to a DOS client, and ignoring the difference internally. This has the drawback of having to specify which files are binary, so that CVS does not accidentally corrupt them by attempting to convert line endings. Be sure to correctly identify binary files as such at the time they are added, either with the -kb switch to add on the command-line, or the less-obtuse methods provided by the various GUI clients. <a href="http://cvsbook.red-bean.com/cvsbook.html#CVS_And_Binary_Files" target="_blank">Read more about binary file handling in <em>Open Source Development With CVS.</em></a></p></p>  </li></p></ul></p><p><h2>Recap</h2></p><p><p>CVS can help you to enforce self-discipline in your own code, and provides a mechanism for cooperative development for code you share with others. Its client/server <code>repository</code>/<code>checkout</code> methodology provides you with a means to synchronize edits to a project among multiple locations.</p></p><p><h2>Further Reading...</h2></p><p><p>Because there exist a number of CVS clients, I have stayed away from implementation-specific examples above. Instead, I have used terms such as <code>checkout</code>, <code>commit</code>, <code>update</code>, and <code>repository</code> that are standard to CVS, and shared among most popular client applications. CVS servers can be hosted on Unix or Windows systems, and clients exist for most popular operating systems.</p></p><p><ul></p>  <li><a target="_blank" href="http://www.cvshome.org">Official CVS website.</a><br />CVS is free, and can be downloaded here.</li></p>  <li><a target="_blank" href="http://cvsbook.red-bean.com"><em>Open Source Development With CVS.</em></a><br />An excellent CVS tutorial and reference, portions of which are made available under the GPL.</li></p>  <li>Various CVS clients: </p>    <ul></p>      <li><a target="_blank" href="http://www.wincvs.org">Win CVS</a><br />(Windows) </li></p>      <li><a target="_blank" href="http://www.tortoisecvs.org">Tortoise CVS</a><br />(Windows)</li></p>      <li><a target="_blank" href="http://sourceforge.net/projects/maccvspro">Mac CVS Pro</a><br />(Mac Classic and OS X)</li></p>    </ul></p>  </li></p>  <li><a href="http://saturn5.com/mike/public/cvstatus.pl" target="_blank">My personal CVS status script</a>, in Perl </li></p></ul>