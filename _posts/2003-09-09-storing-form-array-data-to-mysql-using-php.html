---
layout: post
permalink: node/60222
ratings: 19
avgrate: 2.6842
category: Backend
user: webinista
real_name: "Tiffany B. Brown"
user_since: 11 Sep 2002
avatar: "/images/pictures/picture-39652.jpg"
article_count: 1
excerpt: "Got an array from a form? Need to store it to a database? Here's how."
---
<p>Let's say that you've got a form with check boxes sort of like the one below.</p></p><p><img src="http://www.tiffanybbrown.com/images/evolt/formsamp.gif" alt="Form snippet. Code below."></p><p><p>Here's the code...</p></p><pre></p>&lt;form method=&quot;post&quot; action=&quot;path to script&quot;&gt;</p>&lt;input type=&quot;checkbox&quot; id=&quot;colors[]&quot; value=&quot;red&quot; /&gt; Red</p>&lt;input type=&quot;checkbox&quot; id=&quot;colors[]&quot; value=&quot;blue&quot; /&gt; Blue</p>&lt;input type=&quot;checkbox&quot; id=&quot;colors[]&quot; value=&quot;green&quot; /&gt; Green</p>&lt;input type=&quot;checkbox&quot; id=&quot;colors[]&quot; value=&quot;yellow&quot; /&gt; Yellow</p>&lt;/form&gt;</p></pre></p></p></p><p><p>Notice the [ and ] after &quot;color.&quot; That will alert your <abbr title="Hypertext Pre-processor">PHP</abbr> script that this data will be stored in an array. You won't have an array without the brackets.</p></p><p><p>Now, let's say someone fills out the form. Maybe she is ordering shirts and wants one in every color. She checks every box on the form.</p></p><p><p>You want to store the information in that array to your database. So in your <abbr title="Hypertext Pre-processor">PHP</abbr> script, you try something like this:</p></p><p><pre></p>$colors=$_POST['colors']; //takes the data from a post operation...</p>$query=INSERT INTO colors VALUES('$colors');</p></pre></p><p><p>But that doesn't work. You'll get &quot;Array&quot; as your value in the database.</p></p><p><p>Instead you'll need to use <abbr title="Hypertext Pre-processor">PHP</abbr>'s <a href="http://us4.php.net/manual/en/function.serialize.php" target="_blank"><code>serialize()</code></a> function.</p></p><p><p>As the <abbr title="Hypertext Pre-processor">PHP</abbr> documentation explains, the serialize function &quot;[g]enerates a storable representation of a value.&quot;</p></p><p><p>In other words, it takes arrays (and other data types), and converts the contents into data that can be stored.</p></p><p><p>Let's re-do the above code using <code>serialize()</code>.</p></p><p><pre></p>$colors=serialize($_POST['colors']); //takes the data from a post operation...</p>$query=INSERT INTO colors VALUES('$colors'); </p></pre></p><p><p>Now, let's say you want to retrieve the array data from the database. But if you look at your database, you'll see something like this:<br /> <code>a:3:{i:0;s:8:&quot;red&quot;;i:1;s:9:&quot;blue&quot;;i:2;s:6:&quot;green&quot;;i:3;s:4:&quot;yellow&quot;;}</code></p></p><p><p>Funky, ain't it? But that's not a problem: <a href="http://us4.php.net/manual/en/function.unserialize.php" target="_blank"><code>unserialize()</code></a> to the rescue.</p><p><p>As its name implies, <code>unserialize()</code> takes serialized array data and converts it back to a usable array.</p></p><p><p>To retrieve the array data from the database, then, you might do this:</p></p><pre></p>$query=SELECT * FROM shirtColors;</p>$doQuery=mysql_query($query);</p>$numrows=mysql_num_rows($doQuery);</p>if($numrows>0)</p>{</p> while($colors=mysql_fetch_array($doQuery))</p>  {</p>  $colors=unserialize($colors['colors']);</p>	</p>  foreach($colors as $shirt)</p>   {</p>	  print $shirt.', ';</p>   }</p>  }</p>}</p>else</p>{</p> print 'No colors in database.';</p>}</p></pre></p><p><p>You should get "red, blue, green, yellow." </p></p><p><p>And there you have it.</p></p><p><h2>More information</h2></p><ul></p><li><a href="http://www.php.net/documentation/" target="_blank"><abbr title="Hypertext Pre-processor">PHP</abbr> documentation</a></li></p><li><a href="http://www.mysql.com/" target="_blank">My<abbr title="Server Query Language">SQL</abbr> web site</a></li></p><li><a href="http://www.w3.org/TR/html401/interact/forms.html" target="_blank"><abbr title="Hyper-Text Markup Language">HTML</abbr> forms from the World Wide Consortium</a></li></p></ul>