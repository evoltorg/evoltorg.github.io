---
layout: post
permalink: node/316
---
Unlike C and Pascal, there is no language support\nfor multidimensional arrays in Perl or JavaScript.\nWhile it is true that single dimension arrays are\nsufficient for all tasks (memory is conceptually a\nsingle dimension array), multidimensional arrays\nprovide a notational convenience so the programmer\ndoes not have to worry about the array indexing\nscheme and overhead.</p><p>So what does all that mean?  Let's go through an\nexample.  Let's simulate a Tic-Tac-Toe board using\nan array.  We can use a single dimension array,\ncall it <em>board</em>, and map it like this:</p><p><p>\n<table border="0" cellspacing="0" cellpadding="0">\n<tr><td align="center"> 0 </td><td align="center">!</td><td align="center"> 1 </td><td align="center">!</td><td align="center"> 2 </td></tr>\n<tr><td align="center">---</td><td align="center">+</td><td align="center">---</td><td align="center">+</td><td align="center">---</td></tr>\n<tr><td align="center"> 3 </td><td align="center">!</td><td align="center"> 4 </td><td align="center">!</td><td align="center"> 5 </td></tr>\n<tr><td align="center">---</td><td align="center">+</td><td align="center">---</td><td align="center">+</td><td align="center">---</td></tr>\n<tr><td align="center"> 6 </td><td align="center">!</td><td align="center"> 7 </td><td align="center">!</td><td align="center"> 8 </td></tr>\n</table>\n</p></p><p>So to get the value of the bottom-left corner, in\nPerl you'd use <code>$board[6]</code> while in\nJavaScript you'd use <code>board[6]</code>.  Using\nthis method is a little cumbersome for the\nprogrammer in that the programmer has to remember\nwhich square maps to which array index.</p><p>A more natural method of labelling the board might\nbe to use rows and columns.  We'll use a pair of\nnumbers to indicate each square.  The first number\nwill be the row that the square is in and the\nsecond number will the column that it is in.\nWe'll start our numbering of rows and columns from\nthe top-left corner.  So we have a board that\nlooks like this:</p><p><p>\n<table border="0" cellspacing="0" cellpadding="0">\n<tr><td align="center"> 0,0 </td><td align="center">!</td><td align="center"> 0,1 </td><td align="center">!</td><td align="center">0,2</td></tr>\n<tr><td align="center">-----</td><td align="center">+</td><td align="center">-----</td><td align="center">+</td><td align="center">-----</td></tr>\n<tr><td align="center"> 1,0 </td><td align="center">!</td><td align="center"> 1,1 </td><td align="center">!</td><td align="center"> 1,2 </td></tr>\n<tr><td align="center">-----</td><td align="center">+</td><td align="center">-----</td><td align="center">+</td><td align="center">-----</td></tr>\n<tr><td align="center"> 2,0 </td><td align="center">!</td><td align="center"> 2,1 </td><td align="center">!</td><td align="center"> 2,2 </td></tr>\n</table>\n</p></p><p>Now to get the value of the bottom-left corner,\nwe'd want the square in row 2 and column 0, or\n2,0.  The Tic-Tac-Toe board, or any grid, is\nactually a visualization of a two-dimensional\narray.  So ideally, we'd want to create an array\nthat could be indexed using the natural method of\nrows and columns.  In C, you could define this\narray as <code>char board[3][3];</code> and\naddress the bottom-left corner as\n<code>board[2][0]</code> but in Perl and\nJavaScript you can't do this as the language\ndoesn't support it.  However, you can emulate this\nbehaviour in both languages in basically the same\nway.</p><p>Both Perl and JavaScript allow you to create\narrays that contain references to other arrays.\nSo to emulate the above structure, we can use a\none-dimensional array (the rows) that only\ncontains references to other one-dimensional\narrays (the columns).  In Perl this would look\nlike:</p><p><p>\n<code>\nmy @rows;<br>\nmy @col0;<br>\nmy @col1;<br>\nmy @col2;<br>\n$rows[0] = \@col0;<br>\n$rows[1] = \@col1;<br>\n$rows[2] = \@col2;\n</code>\n</p></p><p>We create the first array that represents the rows\nand three other arrays that represent each column.\nWe then set each cell of the rows array to point\nto a column array.  So if we wanted the\nbottom-left corner, we'd want\n<code>$rows[2]-&gt;[0]</code> which means:</p><p><ol>\n<li>Look into the rows array at position 3 (everything starts from 0).</p><p><li>Since the rows array only contains a 'pointer'\nto another array, we use the -&gt; syntax to mean\nlook into the array that is being pointed to.</p><p><li>And then finally, return the value in position 1 of the array.\n</ol></p><p>So what we get returned is the value in row 2,\ncolumn 0.  A similar thing can be done in\nJavaScript.  To set up the arrays we'd use:</p><p><p>\n<code>\nvar rows = new Array();<br>\nvar col0 = new Array();<br>\nvar col1 = new Array();<br>\nvar col2 = new Array();<br>\nrows[0] = col0;<br>\nrows[1] = col1;<br>\nrows[2] = col2;\n</code>\n</p></p><p>And to get the bottom-left corner we'd use\n<code>rows[2][0]</code>. Perl will also support\nthis syntax as a short hand for the pointer method\nabove; you'd write <code>$rows[2][0]</code>.</p><p>The above method to declare your arrays is a\nlittle cumbersome and both Perl and JavaScript let\nyou combine the statements into a single\nstatement.  For Perl you can use:</p><p><p>\n<code>\nmy @board = ( [], [], [] );\n</code>\n</p></p><p>which means create an array with references to\nthree other arrays inside.  While in JavaScript\nyou can use:</p><p><p>\n<code>\nvar board = new Array ( new Array(), new Array(), new Array() );\n</code>\n</p></p><p>It should be noted that you do not <em>need</em>\nto declare these arrays in Perl or JavaScript.\nYou can simply start adding values to the arrays.\nSo to make the declaration more useful, we can add\ninitialization of the inside arrays at the same\ntime.  Say you wanted to set the value of each\ncell to the number of its one-dimensional\ncounterpart.  In Perl you would use:</p><p><p>\n<table border="0" cellspacing="0" cellpadding="0">\n<tr><td>my @board = ( </td><td>['0', '1', '2'],</td></tr>\n<tr><td>&nbsp;</td><td>['3', '4', '5'],</td></tr>\n<tr><td>&nbsp;</td><td>['6', '7', '8'] );</td></tr>\n</table>\n</p></p><p>while in JavaScript you would use:</p><p><p>\n<table border="0" cellspacing="0" cellpadding="0">\n<tr><td>var board = new Array( </td><td>new Array(&quot;0&quot;, &quot;1&quot;, &quot;2&quot;),</td></tr>\n<tr><td>&nbsp;</td><td>new Array(&quot;3&quot;, &quot;4&quot;, &quot;5&quot;),</td></tr>\n<tr><td>&nbsp;</td><td>new Array(&quot;6&quot;, &quot;7&quot;, &quot;8&quot;) );</td></tr>\n</table>\n</p></p><p>Now that we've conquered two-dimensional arrays,\nwe can extend our idea to the three-dimensional\ncase.  Let's take a look at the Perl\ninitialization of a three-dimensional array, think\nof a 3-D Tic-Tac-Toe board.</p><p><p>\n<table border="0" cellspacing="0" cellpadding="0">\n<tr><td>my @board = ( </td><td>[</td><td>&nbsp;</td></tr>\n<tr><td>&nbsp;</td><td>&nbsp;</td><td>['0', '1', '2'],</td></tr>\n<tr><td>&nbsp;</td><td>&nbsp;</td><td>['3', '4', '5'],</td></tr>\n<tr><td>&nbsp;</td><td>&nbsp;</td><td>['6', '7', '8']</td></tr>\n<tr><td>&nbsp;</td><td>],</td><td>&nbsp;</td></tr>\n<tr><td>&nbsp;</td><td>[</td><td>&nbsp;</td></tr>\n<tr><td>&nbsp;</td><td>&nbsp;</td><td>['9', '10', '11'],</td></tr>\n<tr><td>&nbsp;</td><td>&nbsp;</td><td>['12', '13', '14'],</td></tr>\n<tr><td>&nbsp;</td><td>&nbsp;</td><td>['15', '16', '17']</td></tr>\n<tr><td>&nbsp;</td><td>],</td><td>&nbsp;</td></tr>\n<tr><td>&nbsp;</td><td>[</td><td>&nbsp;</td></tr>\n<tr><td>&nbsp;</td><td>&nbsp;</td><td>['18', '19', '20'],</td></tr>\n<tr><td>&nbsp;</td><td>&nbsp;</td><td>['21', '22', '23'],</td></tr>\n<tr><td>&nbsp;</td><td>&nbsp;</td><td>['24', '25', '26']</td></tr>\n<tr><td>&nbsp;</td><td>]</td><td>&nbsp;</td></tr>\n<tr><td align="right">);</td><td>&nbsp;</td><td>&nbsp;</td></tr>\n</table>\n</p></p><p>So we have the outer array which represents the\n'level,' starting from the top, which are made up\nof three arrays which represent the rows of the\nlevel, which in turn are composed of three more\narrays which represent the columns of the level.\nSo each level of the board is made up of a\nTic-Tac-Toe board of its own so we have 27 squares\nin total.</p><p>We can expand this 'array-of-arrays' notion to\nfour dimensions and beyond.  But as you can see in\nthe three-dimensional case, it's already beginning\nto get a little confusing.  As well, visualizing\nthese structures beyond the fourth dimension can\nbe a little tricky.</p><p>So that's multidimensional arrays.  If you have\nany questions or comments, feel free to e-mail me\nat <a href="mailto:dmah@vox.org">dmah@vox.org</a>.</p><p><p><strong>Note:</strong> Perl purists will note that\nI use the term 'array' in place of 'list' to avoid\nconfusion with terminology.  If you can tell the\ndifference between the two, you probably don't\nneed to read this article anyway!</p>