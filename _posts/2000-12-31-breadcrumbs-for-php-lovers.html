---
layout: post
permalink: node/4455
ratings: 8
avgrate: 4.5000
category: Code
user: jstetser
real_name: ""
user_biog: ""
user_since: 
avatar: ""
article_count: 0
excerpt: "Breadcrumbs in Perl, Breadcrumbs in ASP - What\'s missing? Breadcrumbs in PHP. I\'ve added a few tweaks to the concept. Read the whole series for maximum benefit!"
---
<p></p>Martin and Adrian started breadcrumb mania, and I'm continuing the tradition with "Breadcrumbs for PHP Lovers." If you want to know why breadcrumbs make good business, read Martin's <a href="http://evolt.org/article/Breadcrumbs_for_All/17/4428/evolt.org" title="Why breadcrumbs are great and how to do them with SSI and Perl">Breadcrumbs for All</a>. If you need an ASP-based breadcrumb trail generator, Adrian's <a href="http://www.evolt.org/article/Breadcrumbs_for_Those_Using_ASP/17/4438/evolt.org" title="ASP! It's from Microsoft!">Breadcrumbs for Those Using ASP</a> should help.</p></p></p><p></p>With no further ado, here's how to build a breadcrumb trail in PHP. I wrote the code mostly by porting Adrian's concept to PHP, using native functions whenever possible.</p></p></p><p></p>If you're integrating this generator with a homebrew content management system or have a setup where the home page of your site is not accessible via a single "/" absolute URL, you can set <code>$root_url</code> to a different location; the script will automatically modify all paths to suit. Like Adrian's solution, if <code>$page_title</code> is not set, the script will print "Current Page" for the page the user is on.</p></p></p><p></p>Save the code below as <strong>breadcrumb.php</strong> in your includes directory.</p></p></p><p><pre></p>&lt;?php</p><p>##############################################################################</p># breadcrumb.php                  Version 1.1                                #</p># Copyright 2000 Jacob Stetser    jstetser@icongarden.com                    #</p># Created Dec 30, 2000            Last Modified May 2, 2001                 #</p>##############################################################################</p># COPYRIGHT NOTICE                                                           #</p># Copyright [and -left] 2000 Jacob Stetser. All Rights Reserved except as    #</p># provided below.                                                            #</p>#                                                                            #</p># breadcrumb.php may be used and modified free of charge by anyone so long   #</p># as this copyright notice and the comments above remain intact. By using    #</p># this code you agree to indemnify Jacob Stetser from any liability that     #</p># might arise from it's use.                                                 #</p>#                                                                            #</p># This script is released under the BSD license.                             #</p># The author recognizes this script's indebtedness to evolt.org, Martin      #</p># Burns, Adrian Roselli and countless other ideas of its kind. This script   #</p># is therefore unencumbered free code.                                       #</p>##############################################################################</p><p>function breadCrumb($PATH_INFO) {</p>	global $page_title, $root_url;</p><p>	// Remove these comments if you like, but only distribute </p>	// commented versions.</p>	</p>	// Replace all instances of _ with a space</p>	$PATH_INFO = str_replace(&quot;_&quot;, &quot; &quot;, $PATH_INFO);</p>	// split up the path at each slash</p>	$pathArray = explode(&quot;/&quot;,$PATH_INFO);</p>	</p>	// Initialize variable and add link to home page</p>	if(!isset($root_url)) { $root_url=&quot;&quot;; }</p>	$breadCrumbHTML = '&lt;a href=&quot;'.$root_url.'/&quot; title=&quot;Home Page&quot;&gt;Home&lt;/a&gt; &amp;gt; ';</p>	</p>	// initialize newTrail</p>	$newTrail = $root_url.&quot;/&quot;;</p>	</p>	// starting for loop at 1 to remove root</p>	for($a=1;$a&lt;count($pathArray)-1;$a++) {</p>		// capitalize the first letter of each word in the section name</p>		$crumbDisplayName = ucwords($pathArray[$a]);</p>		// rebuild the navigation path</p>		$newTrail .= $pathArray[$a].'/';</p>		// build the HTML for the breadcrumb trail</p>		$breadCrumbHTML .= '&lt;a href=&quot;'.$newTrail.'&quot;&gt;'.$crumbDisplayName.'&lt;/a&gt; &amp;gt; ';</p>	}</p>	// Add the current page</p>	if(!isset($page_title)) { $page_title = &quot;Current Page&quot;; }</p>	$breadCrumbHTML .= '&lt;strong&gt;'.$page_title.'&lt;/strong&gt;';</p>	</p>	// print the generated HTML</p>	print($breadCrumbHTML);</p>	</p>	// return success (not necessary, but maybe the </p>	// user wants to test its success?</p>	return true;</p>}</p><p>?&gt;</p></pre></p><p><p></p>To use breadcrumb.php on your pages, you'll need to first include it and, if you desire, set <code>$page_title</code>:</p></p></p><p><pre></p>&lt;?php $page_title = &quot;About Us&quot;;</p>include('/includes/breadcrumb.php'); ?&gt;</p>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;</p>                &quot;http://www.w3.org/TR/REC-html40/loose.dtd&quot;&gt;</p><p>&lt;html lang=&quot;en-us&quot;&gt;</p>&lt;head&gt;</p><p>&lt;title&gt;&lt;?php echo $page_title ?&gt;&lt;/title&gt;</p>[...]</p></pre></p><p><p></p>To print out the breadcrumb trail, call the function like this:</p></p></p><p><pre></p>&lt;?php breadCrumb($SCRIPT_URL); ?&gt;</p></pre></p><p><p></p>If you are running a solution where all pages are generated by a single php script that parses <code>$PATH_INFO</code>, you may want to set <code>$root_url</code> to the actual script and parse use <code>$PATH_INFO</code> in place of <code>$SCRIPT_URL</code>.</p></p></p><p></p>The code is commented so you can easily see where to add or change HTML. Enjoy!</p></p>