---
layout: post
permalink: node/4428
ratings: 6
avgrate: 4.3333
user: MartinB
real_name: "Martin Burns"
user_since: 1999-04-26
avatar: "/images/pictures/picture-32.jpg"
article_count: 143
excerpt: "Several sites now have a breadcrumb trail as a navigation aid. The appeal is obvious: help the user work out where they are in a hierarchical site. It's pretty good usability, which is probably why Jakob Nielsen has one on his site. Here's how to add one to your own (Unix/Apache/Perl-hosted) site."
---
<p></p>    Several sites now have a breadcrumb trail as a navigation aid. The</p>    appeal is obvious: help the user work out where they are in</p>    a hierarchical site. It's pretty good usability, which is probably</p>    why <a href="http://www.useit.com/" target="_foo">Jakob Nielsen has one on his site</a>. </p>    Here's how to add one to your own (Unix/Apache/Perl-hosted) site.</p></p></p><p></p>    This code works for simple hierarchical sites - ones where there</p>    is a simple tree structure. Below the home page, there are a set</p>    of folders, each of which can have layers of subfolders. Each folder</p>    can contain pages. In other words, your basic site.</p></p></p><p></p>    The reason for this is that this is not a re-creation of the user's</p>    browser history; it's a visualisation of a top-to-bottom path through</p>    your information architecture.</p></p></p><p></p>    The way it works is extremely simple:</p></p></p><p><ol></p>    <li></p>        Take a simple URL like<br></p>        <code>http://foo.co.uk/articles/content/systems.html</code>;</p>    </li></p>    <li></p>        Swap <code>http://foo.co.uk</code> for <cite>Home</cite></p>        as it's the home page of the site;</p>    </li></p>    <li></p>        Swap <code>systems.html</code> for a sensible title (a truely gifted</p>        piece of code would pick this up from the page title with no performance</p>        loss. This is no such piece of code, sorry, it picks it up from a query string);</p>    </li></p>    <li></p>        Split the rest of the URL at the slashes;</p>    </li></p>    <li></p>        Add a link to all but the current page title;</p>    </li></p>    <li></p>        Stick the bits together in order, using a sensible separator such </p>        as <strong>-&gt;</strong>;</p>    </li></p>    <li></p>        Output it all as a single string to the page.</p>    </li></p></ol>    </p><p></p>    This script does exactly that, with one other bit of cleverness -</p>    it capitalises the first letter of each bit, so that it appears</p>    more sensible to the non-technical than the lower case version which</p>    you'll probably be using in your URL schema.</p></p></p><p></p>    There's also an additional extra which will only work if you're running</p>    on Perl5.004 or later. It will correctly capitalise non-English chars</p>    such as &#225;, &#222;, &#246; and &#241; (the one unsupported exception appears to</p>    be &#223;). If this matters to you, and you are running Perl5.004 or later,</p>    then comment out the line:<br></p>    <code>use locale;</code></p></p></p><p></p>    Also note:</p></p></p><p></p>You call the script by means of an SSI call:<br><br></p><code><pre>&lt;!--#include virtual=&quot;/cgi-bin/cookie_trail.cgi?title=You%20put%20your%20title%20here&quot; --&gt;</pre></code><br><br></p>and the (URL-encoded) query string sets the title;</p></p></p><p></p>The title can also have links in it as long as you escape <em>all</em> the HTML entities - useful if you want to have a sub-article without creating a subdirectory:<br><br></p><code><pre>?title=&amp;lt;a href=&amp;quot;library.html&amp;quot;%20class=&amp;quot;crumb&amp;quot;&amp;gt;Building%20a%20library&amp;lt;/a&amp;gt;%20-&amp;gt;%20Current%20Reading%20List</pre></code></p></p></p><p></p>My site has a special CSS class for the breadcrumb trail, so all the links output by the script will have <code>class=&quot;crumb&quot;</code></p>in them. If you want them out, then this is the line to edit:<br><br></p><code><pre>$html .= qq -&amp;gt; &lt;a href=&quot;$crumbs_path[$i]/&quot; class=&quot;crumb&quot;&gt;$crumbs[$i]&lt;/a&gt;  ;</pre></code><br><br></p>(you delete the class attribute and value).</p></p></p><h2>Get the Code</h2></p><p></p><a href="http://www.easyweb.co.uk/tutorials/cookie_trail.txt" target="_new" title="Opens in a new window">Here it is</a>