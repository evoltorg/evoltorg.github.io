---
layout: post
permalink: node/60503
---
      <p>You will construct a page that lets you enter a string and a regular expression, and search the string for a substring matching the regular expression. [ Running example: <a href="http://programmabilities.com/php/regular-expression-tester.php" title="regular-expression-tester">http://programmabilities.com/php/regular-expression-tester.php</a>. ]</p>\n<p>\nThis <em>Regular Expression Tester with PHP</em> makes use of <code>int ereg (string pattern, string string [, array & regs])</code>. The <code>ereg()</code> function searches a <em>string</em> for matches to the regular expression given in <em>pattern</em> in a case-sensitive way. In other words, the <code>ereg()</code> function performs a regular expression match.</p><p></p>\n<p>\nFirst off. Place the following HTML text and PHP script in a file named regular-expression-tester.php and upload this file to your PHP server: \n</p></p><p><pre>\n&lt;html&gt;\n &lt;head&gt;&lt;title&gt;Regular Expression Tester&lt;/title&gt;&lt;/head&gt;\n &lt;body>\n  &lt;h1&gt;Regular Expression Tester</H1&gt;</p><p>  &lt;form method="POST" action="&lt;?=$PHP_SELF;?&gt;"&gt;</p><p>   &lt;font face='Courier'&gt;\n    String (for example: billgates@programmabilities.com):\n    &lt;br/&gt;\n    &lt;input type='TEXT' size='64' name='string'&gt;&lt;/input&gt;\n    &lt;br/&gt;&lt;br/&gt;\n    Regular Expression:\n    &lt;br/&gt;\n    &lt;input type='TEXT' size='64' name='pattern' value='^([_a-zA-Z0-9-]+)@([a-zA-Z0-9-]+(.[a-zA-Z0-9-]+)*)$'/&gt;\n    &lt;br/&gt;&lt;br/&gt;\n    &lt;br/&gt;</p><p>    &lt;input type='SUBMIT'/&gt;\n   &lt;/font&gt;\n  &lt;/form&gt;\n<?php \n echo "<br/><strong>string:</strong> $string";\n echo "<br/><strong>regular expression:</strong> $pattern";\n if ( get_magic_quotes_gpc() ) {\n    echo '<br/><br/>';\n    echo '<br/>Stripping magic quotes....';\n    $string = stripslashes( $string );\n    $pattern = stripslashes( $pattern );\n    echo "<br/><strong>string:</strong> $string";\n    echo "<br/><strong>regular expression:</strong> $pattern";\n }\n $found = ereg( $pattern, $string, $matches );\n echo '<br/><br/>';\n if ( $found ) {\n    echo '<br/><strong>valid:</strong> true';\n    echo '<br/><br/>';\n    echo '<br/><strong>Components: </strong>';\n    for ( $i = 0; $i < count( $matches ); $i++ )\n    {\n        echo "<br/>$matches[$i]";\n    }\n } else {\n    echo '<br/><strong>valid:</strong> false';\n }\n?>\n &lt;/body&gt;</p><p>&lt;/html&gt;\n</pre></p><p><p>\nNotice the call of the function <code>get_magic_quotes_gpc()</code>. This function returns a value corresponding to the <code>magic_quotes_gpc()</code> PHP option, set by the PHP system administrator. If this option is set, PHP automatically adds backslashes to form variables so their values can be used in contexts that require protection of special characters. This feature is not helpful when entering, viewing, and using a regular expression. So, if the option is set, the script uses the <code>stripslashes()</code> function to remove any undesired slashes added automatically by PHP. To see why this is necessary, you can remove the <code>if</code> statement, and its body, from the script and try running the script. If the <code>magic_quotes_gpc</code> option is set in your PHP installation, the script will not operate properly. </p><p></p>\n<p>\nStudy the HTML page. Look at the regular expression specified as the default value of the textbox named pattern. This regular expression approximates the form of an e-mail address. \n</p>\n<p>\nFor a working example, go to: <a href="http://programmabilities.com/php/regular-expression-tester.php" title="regular-expression-tester">http://programmabilities.com/php/regular-expression-tester.php</a>. Enter a value for the string and, if desired, replace the value of the regular expression, then click the Submit Query button. \n</p>\n<p>\nWhen the script executes, it attempts to match the regular expression with a substring of the string and displays the result.\n</p>