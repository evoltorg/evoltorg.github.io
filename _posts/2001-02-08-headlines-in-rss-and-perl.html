---
layout: post
permalink: node/5535
---
<p>Eyeballs are wonderfully important commodities to a website. Once\nthey're at your site, you can treat them with the reverence reserved for\nroyalty (what an awesome amount of alliteration, eh?). One way of\ngetting eyeballs to your site is by allowing your headlines to be placed\non other sites or portals. The easiest, and most popular, way to do this\nis through RSS, a syndication format originally implemented by Netscape,\nand then collectively improved upon by Dave Winer and Netscape.</p></p><p><p>With Perl and some easily downloadable modules from CPAN, you can\nquickly implement your own headlines in RSS.</p></p><p><h2>What You'll Need</h2>\n<ul><li>Perl 5 or above.</li>\n<li>XML::RSS (available from <a href="http://www.cpan.org/" target="_new">cpan.org</a>)</li>\n<li>The ability to run CGI scripts.</li></ul></p><p><h2>Creating Your Own RSS File</h2></p><p><p>Below, we'll go through the simple code needed to create your\nown headlines in RSS. I'm going to assume that you already have an\nhtml document which contains your headlines for viewing through\na browser. Using the fun text manipulation available in perl, we'll\nparse through that html file, and place the headlines into a RSS \ndata structure. Finally, we'll save the file.</p></p><p><pre>\n#!/usr/bin/perl -wT</p><p># Here, we're calling two modules or additions to Perl. The first one we\n# installed on the server specifically for this occasion, but 'use\n# strict' is a helpful little addition if you want to write good code.\n# It catches a lot of the human idiocy that plagues horrible programs.\nuse XML::RSS;\nuse strict;</p><p># create some variables near the top of the script so we don't\n# have to search through the script later to change them.\nmy $headlines_file = &quot;/path/to/headlines.html&quot;;\nmy $rss_output = &quot;/path/to/headlines.rss&quot;;</p><p># we create a new rss object.\nmy $rss = new XML::RSS (version =&gt; '0.9');</p><p># these are just little descriptive elements of the RSS channel we're \n# about to make. we add them to the $rss object we made above.\n$rss-&gt;channel(title =&gt; &quot;Your Site Name&quot;,\n              link =&gt; &quot;http://www.yoursitename.com/&quot;,\n              description =&gt; &quot;Headlines from Your Site Name!&quot;,\n             );</p><p># we open the file with our headlines in it.\nopen(FILE, &quot;&lt;$headlines_file&quot;) or die &quot;Couldn't open $headlines_file: $!&quot;;</p><p># a traditional while loop. for each line of our $headlines_file\n# we start looking for markers within the code that tell us a\n# headline is coming. in this example, we're assuming that headlines\n# follow html like &lt;h2&gt;&lt;a href=&quot;link&quot;&gt;headline&lt;/a&gt;&lt;/h2&gt;.\nwhile (&lt;FILE&gt;) {</p><p>   # look in the current line to see if our headline is in there.\n   if ($_ =~ /&lt;h2&gt;&lt;a href=\&quot;.*\&quot;&gt;.*&lt;\/a&gt;&lt;\/h2&gt;/) {</p><p>      # if it is, then we grab the link and headline.\n      my ($link, $headline) = /&lt;h2&gt;&lt;a href=\&quot;(.*)\&quot;&gt;(.*)&lt;\/a&gt;&lt;\/h2&gt;/i;</p><p>      # if both $link and $headline were created, then we\n      # add them to the $rss object using the add_item feature\n      # of XML::RSS.\n      if ($link and $headline) {\n         $rss-&gt;add_item(title=&gt;$headline, link=&gt;$link );\n      }</p><p>      # move on to our next line.\n      next;\n   }\n}</p><p># if we're this far, we've finished our file.\nclose(FILE);</p><p># finally, save the rss file.\n$rss-&gt;save($rss_output);</p><p># and quit.\nexit;\n</pre></p><p><h2>The Output</h2></p><p><p>Running this script on this document (using some dummy links to \nfake some pages) created the following RSS file:</p></p><p><pre>\n&lt;?xml version=&quot;1.0&quot;?&gt;</p><p>&lt;rdf:RDF\nxmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;\nxmlns=&quot;http://my.netscape.com/rdf/simple/0.9/&quot;&gt;</p><p>&lt;channel&gt;\n&lt;title&gt;Your Site Name&lt;/title&gt;\n&lt;link&gt;http://www.yoursitename.com/&lt;/link&gt;\n&lt;description&gt;Headlines from Your Site Name!&lt;/description&gt;\n&lt;/channel&gt;</p><p>&lt;item&gt;\n&lt;title&gt;What You'll Need&lt;/title&gt;\n&lt;link&gt;what_you'll_need.html&lt;/link&gt;\n&lt;/item&gt;</p><p>&lt;item&gt;\n&lt;title&gt;Creating Your Own RSS File&lt;/title&gt;\n&lt;link&gt;creating_your_own_rss.html&lt;/link&gt;\n&lt;/item&gt;</p><p>&lt;item&gt;\n&lt;title&gt;The Output&lt;/title&gt;\n&lt;link&gt;the_output.html&lt;/link&gt;\n&lt;/item&gt;</p><p>&lt;item&gt;\n&lt;title&gt;Conclusion&lt;/title&gt;\n&lt;link&gt;conclusion.html&lt;/link&gt;\n&lt;/item&gt;</p><p>&lt;/rdf:RDF&gt;\n</pre></p><p><h2>Conclusion</h2></p><p><p>That's all there is to it, really. After customizing the headline / link\nsearching code above to your own needs, it's a simple matter of running this\nscript whenever your headlines are updated (some people like setting up an\nhourly <a href="http://www.evolt.org/article/Cron_a_regular_workhorse/18/125/index.html" target="_new">cron</a>).\nThe above explanation is really a more verbose version of what's already\ncontained within the <a href="http://search.cpan.org/doc/EISEN/XML-RSS-0.95/RSS.pm" target="_new">XML::RSS documentation</a>.\nIf you're looking to output a different version of RSS or read in other\npeople's headlines, I heartily suggest examination of the documentation