---
layout: post
permalink: node/60300
ratings: 3
avgrate: 4.3333
user: georgec
real_name: "George "
user_since: 2003-04-21
avatar: ""
article_count: 2
excerpt: "Formatting numbers so they conform to a specific format in JavaScript can be deceivingly tricky, such as the currency format. This articles looks at number formatting, from rounding to formatting numbers for currency display using two new methods of JavaScript 1.5."
---
<h2>Formatting numbers for currency display and more.</h2></p>    <p>Formatting numbers so they conform to a specific format can be </p>    deceivingly tricky. For example, one of the most common tasks is to format a </p>    number for currency display- an integer followed by two decimals. There are </p>    more subtitles in such a task than many might think. In this tutorial, I'll </p>    discuss formatting numbers in JavaScript, such as number rounding, </p>    formatting a number for currency display, and more.</p></p><h3>Number rounding in JavaScript</h3></p><p>Lets first talk about number rounding in JavaScript. JavaScript </p>accomplishes this with the following method:</p></p><p><code>Math.round(x)</code></p></p><p>Using it, any supplied argument is rounded off to the <strong>nearest </p>integer</strong>, and using the &quot;.5&quot; up rule. For example:</p></p>  <pre>Math.round(25.9) //returns 26</p>Math.round(25.2) //returns 25</p>Math.round(-2.58) //returns -3</pre></p><p>If purging numbers of decimals is all that you require, class </p>dismissed!</p></p><h3>Taking things a few decimal further</h3></p><p>Formatting numbers to specific decimal points still entails</p>Math.round(), but padded with a little </p>multiplication and division. See if you can identify the magic formula involved, </p>with the below examples:</p></p><pre>var original=28.453</p>1) //round &quot;original&quot; to two decimals</p>var result=Math.round(original*100)/100&nbsp; //returns 28.45</p>2) // round &quot;original&quot; to 1 decimal</p>var result=Math.round(original*10)/10&nbsp; //returns 28.5</p>3) //round 8.111111 to 3 decimals</p>var result=Math.round(8.111111*1000)/1000&nbsp; //returns 8.111</pre></p><p>In case you haven't picked up on it, the formula to round any </p>number to <strong>x</strong> decimal points is:</p></p><p>1) Multiple the original number by 10^x (10 to the power of x)<br></p>2) Apply Math.round() to the result<br></p>3) Divide result by 10^x</p></p><h3>Formatting numbers for currency display</h3></p>    <p>Now, lets move on to formatting numbers for currency display in </p>    JavaScript. You may be tempted to simply use number rounding to first shift </p>    the number's decimal places (via multiplication), round it, then shift the </p>    decimal back (via division) to pound the number into your hard earned </p>    dollar, though that won't work in many cases. For example, consider the </p>    number 120. Number rounding certainly won't get you to 120.00.</p></p><p>To easily format numbers for a specific number of trailing decimals or </p>    total digits (aka padding), JavaScript 1.5 introduces the below two nifty </p>    methods:</p></p>    <table cellspacing="0" cellpadding="0" width="95%" border="0"></p>      <tr></p>        <th width="25%">Methods</th></p>        <th width="75%">Description</th></p>      </tr></p>      <tr></p>        <td width="25%">Number.toFixed(x)</td></p>        <td width="75%">Formats any number for &quot;x&quot; number of </p>        trailing decimals. The number is rounded up, and &quot;0&quot;s are used after the </p>        decimal point if needed to create the desired decimal length.</td></p>      </tr></p>      <tr></p>        <td width="25%">Number.toPrecision(x)</td></p>        <td width="75%">Formats any number so it is of &quot;x&quot; length. </p>        Also called significant digits. A decimal point and &quot;0&quot;s are used if </p>        needed to create the desired length.</td></p>      </tr></p>    </table></p>    <h3>Number.toFixed()</h3></p>    <p>The best way to see all the subtleties of </p>    toFixed() is to see it in action:</p></p>    <pre>var profits=2489.8237</p>profits.toFixed(3) //returns 2489.824 (round up)</p>profits.toFixed(2) //returns 2489.82</p>profits.toFixed(7) //returns 2489.8237000 (padding)</pre></p>    <p>Displaying any number in currency format can't get any easier!</p></p>    <h3><b>Number.toPrecision()</b></h3></p>    <p>To toPrecision() now:</p></p>    <pre>var anumber=123.45</p>anumber.toPrecision(6) //returns 123.450 (padding)</p>anumber.toPrecision(4) //returns 123.5 (round up)</p>anumber.toPrecision(2) //returns 1.2e+2 (you figure it out!)</pre></p>    <p>toPrecision() is useful if your </p>    number must be of a certain length.</p></p>    <h3> Browser considerations </h3></p>    <p>Now, as noted, the last two methods above are JavaScript 1.5 methods. What this </p>    means is that they'll only work in IE5.5+ and NS6+. The issue of legacy </p>    browsers not performing the desired formatting operation not withstanding, </p>    how do you ensure that these two methods at least degrade well? Well, by </p>    using method detection in your code. For example:</p></p>    <pre>var profits=2489.8237</p>if (profits.toFixed) //if browser supports toFixed() method</p>profits.toFixed(2)</pre></p>    <p>For those of you who also need to ensure legacy browsers such as IE5 also </p>    perform the desired number formatting operation, well, then it's time to </p>    roll your own function.</p>