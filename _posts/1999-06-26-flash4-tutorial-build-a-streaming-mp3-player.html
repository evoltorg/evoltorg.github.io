---
layout: post
permalink: node/196
ratings: 1
avgrate: 5.0000
user: Ryan
real_name: "Ryan Mayberry"
user_since: 1999-06-04
avatar: ""
article_count: 7
excerpt: "FLASH4 has arrived and it is packed full of improvements. There are many new interface improvements and some powerful new functionality like forms and MP3 compression. The following tutorial takes a l"
---
FLASH4 has arrived and it is packed full of improvements. There are many new interface improvements and some powerful new functionality like forms and MP3 compression. The following tutorial takes a look at the latter by walking you through the steps of making a streaming MP3 player.  <P> Now just to clarify, you cannot import MP3 songs into Flash4 and play them. But what you can do is take advantage of the compression quality of the MP3 format and stream good sound really easily. I hope you enjoy.  <P> <a href="http://www.hoopee.com/streaming/streaming.htm"  target="_new" title="Play the demo player">:: play the demo player while you follow the tutorial::</a>  <P> <b>Stage One :: Getting ready</b>  <P> A) If your system is low on memory and harddrive space you're going to want to free some up. The files you will be working with are HUGE, so be expecting a few crashes (ha, joking of course, my 133 with 32megs handles it fine).  <P> B) You should also go by <a href="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" target="_new">Macromedia</a> and make sure you have the latest plug-in for your browser. Of course you should <a href="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" target="_new">get these plug-ins</a> with your copy of Flash4, but hey, it can't hurt, maybe there is a newer one.  <P> C) You need to have a program that can record your song in <b>WAV</b> format. If you have a sound card you may have one of these programs already, but just in case, I use one called <a href="http://www.musicmatch.com" target="_new">MusicMatch</a>, you can get a demo copy from <a href="http://www.musicmatch.com" target="_new">their site</a> (it's a must have for all you MP3 fans).  <P> D) Lastly, you MUST take a post-it note or anything you can stick to your monitor and write in big bold letters "SAVE WORK OFTEN". That's all I'm going to say about that. I'm trusting you to remember.  <P> <b>Stage Two :: Collecting the Sounds..</b>  <P> A) To record music for your player, all you have to do is stick your favorite CD into your CD-ROM drive and using your little audio app (mentioned in stage one) open one of the songs from the CD and save it locally as a <b>WAV</b> file.  <P> <b>Note:</b> You'll want to write down the length of your song in seconds, you'll find out why later.  <P> <b>Hint:</b> Use a short song to start with? if you have a slow processor (like me) the longer the song the longer you'll have to wait.  <P> If this is difficult to do, you should be able to find specific instructions in the application <b>Help</b> file (also look in the menus for anything that looks like <b>Record Settings</b> or <b>Options</b>..).  <P> <b>Stage Three :: Making the Song a Movie</b>  <P> (The following assumes that you are at least a little familiar with Flash3 and understand the application's interface and terminology. If not, check out the <b>Help</b> menu in your Flash4 program for clarification).  <P> A) Open a new movie. Make it the size that you want your MP3 player to be.  <P> B) Import your <b>WAV</b> file. You can import items using the menu <B>FILE > IMPORT</b>. Be prepared to wait, even if your song was only a couple of minutes long, it's probably sitting at about 30 megs. So give your machine plenty of time to deal with the file before you start to panic.  <P> C) Make a new layer and name it Song. Select the first frame and access the properties by selecting menu <b>Modify > Frame</b>. Click on the <b>Sound</b> tab and from the drop down menu select the song you just imported. On the right of the tab make sure the drop down menu called <b>Sync</b> has <b>Stream</b> selected. Click <b>Ok</b><p> D) Now you need to modify our movie timeline so the song can play its full length. Notice when you add a new frame (<b>INSERT > FRAME</b>) to the timeline, there is a little indicator on the bottom of the timeline panel that shows you how many seconds into the movie that frame is. Use that indicator as a guide and keep adding frames until you're at the end of your song.  <P> E) Add a new layer and call it Actions. Go to the last frame, insert a keyframe and access the properties. On the <b>Action</b> tab, add the action <b>Go to and Play (1)</b> - you can do this by selecting <b>"+" > Go to</b> and then making sure the <b>Play</b> check box is checked on the right side of the tab.  <P> F) Save this Movie and export it using menu <b>File > Export Movie</b>. Use the name <b>song.swf</b>. When the export setting properties box pops up, make sure the streaming sound compression is set to <b>MP3</b>. If it's not, click the <b>Set</b> box and select <b>MP3</b> from the <b>Compression</b> drop down menu.  <P> <b>Part 4 :: The Player Movie.</b>  <P> You're on your own for creative flair in this part. All I'm going to tell you is what buttons you need and what you need them to do. If you want to get fancy with animation, a nice "skip intro" or something, go for it.  <P> A) Open a new movie the same size as your last one. Create the following symbols for your player (menu <b>Insert > Symbol</b>):  <P> <b>one Play button<br>one Stop button</b>  <P> B) Drop Instances of your buttons into the movie. (You can just drag and drop them from the Library window found under <b>Window > Library</b>)  <P> C) Select the play button and access its properties (<b>Modify > Instance</b>) and under the <b>Actions</b> tab, add the action <b>Load/Unload Movie</b>. Make sure on the right side of the tab <b>Load Movie Into Location</b> is selected and under <b>Location</b> you have <b>Level 1</b> also selected. In the <b>URL</b> section type the name of your song movie - <b>song.swf</b> .  <P> D) Select the stop button, access its properties and also add the <b>Load/Unload Movie</b> action. This time just make sure you select <b>Unload Movie from Location</b> and the <b>Location</b> is still set at <b>Level 1</b>.  <P> E) You can now export this movie. Save it as <b>player.swf</b>, nothing needs to be done to the settings, unless you have added some of your own spice to the player, then adjust the settings accordingly.  <P> <b>Part 5 :: The Launcher Movie</b>  <P> A) Open a new movie the same size as the previous two.  <P> B) Make a new layer and name the layer Actions. Access the properties of the first frame and under the <b>Actions</b> tab add the action <b>Load/Unload Movie</b>. Make sure on the right side of the tab <b>Load Movie Into Location</b> is selected and under <b>Location</b> you have <b>Level 2</b>. In the <b>URL</b> section type the name of your player movie - <b>player.swf</b> .  <P> C) You can now export this movie as <b>launcher.swf</b> - this will be the flash movie you place into your html file in order to use your player. Nothing special needs to be set in the export settings.  <P> <b>Part 6 :: How it Works</b>  <P> A) All you have to do now is place your <b>launcher.swf</b> movie in an HTML page, open that page in your browser or link to it from another page.  <P> When the page begins to render this is what happens: First <b>launcher.swf</b> will load, that will immediately load <b>player.swf</b> in level 2, when you hit the play button, <b>song.swf</b> will begin to load (and stream) in level 1, which is below the player and above the launcher in level 0. When you hit the stop button, it unloads <b>song.swf</b> from level 1 and the music stops.  <P> You can add your launcher flash movie to html files with Aftershock, which you might have left-over from Flash3. If not check out the section of the Flash4 help topics called Publishing and Exporting. It has all the information you need. As well some applications such as Dreamweaver make it really easy to add movies to your pages.  <P> Remember, only people with the latest upgrade of the flash plug-in are going to be able to use your player, so you might want to think about <a href="http://www.evolt.org/article/Detecting_FLASH4_compatibility/17/163/index.html">JavaScript plug-in detection</a>. Enjoy.  <P> If you have any questions, send them to <a href="mailto:ryan@kerkness.com">Ryan</a>.