<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Perl Shell Program For Whois</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">evolt.org</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Perl Shell Program For Whois</h2>
<p class="meta">09 Dec 1999</p>

<div class="post">
<p>Necessity maybe the mother of invention, but some times little 'side' projects can keep you from going crazy under tight deadlines. I've been beating my body silly the last two weeks to put together a e-commerce solution for one of my clients. Today was 'very' mentally draining with the 'final-final' review, edits, tweaks and 'oh-my-gawd-we-forgot-to...' going on.</p></p><p><p>During this 'hectic' time, I forced myself a few minutes here and there to divert my brain from the stress and wrote the following script. Believe it or not, the exercise really helped me stay focused on the important work.</p></p><p><p>Anyhoo - to make a long story longer, I was a little pissed off about the changes to rs.internic.net and the new 'limited' whois results. So I wrote the following Perl script to query rs.internic.net using the standard *NIX whois executable, capture the info - and if the domain existed, snag the whois server name from the info presented and offer you the option to query the responsible registrar for more detail on the domain.</p></p><p><p>I think its pretty slick. There might be a better way to do some of the things in the script, but output was more important than code elegance. Enjoy. Feedback is appreciated. Cut out the code between the demarcations below and watch out for line wrap. Save to a text file  called 'ewhois' and place in your /home/username/bin directory. chmod to 755. To use, type 'ewhois domain.tld'. Note: I've found that there are some very handy extensions to the new internic whois (not mine). You can enter no extension (e.g. 'whois domain') and it will search all of the .com, .edu, .org and .net extensions for you - giving you a hit list of 'registered' domains. Also if you include no extension, but just the trailing '.' (e.g. 'whois domain.') it give you a hit list of all domains that _begin_ with the word entered.</p></p><p><pre>\n#!/usr/bin/perl\n##\n## eWhois, an extended Whois Program\n##\n## Version .9b</p><p>## CopyLeft KeyBoard Jockeys, 1999\n## www.keyboardjockeys.com\n## eWhois@keyboardjockeys.com</p><p>## This program is NOT web browser safe!!\n## There is no checking for 'funny' stuff.\n## Do not use via a browser on an unsecure page.\n \n## Just give the address you want\n## to ewhois and if it exists in\n## the rs.internic.net database,\n## you'll be given the option to\n## extend the search to the regitry\n## who holds the source of the whois info\n  \n## edit the $varWhoisExe for your server\n## put in your /home/username/bin directory\n## chmod to 755\n   \n## usage: ewhois foo.edu\n##        ewhois foo.\n##        ewhois foo\n   \n## Edit this variable for your whois program\n## Note some linux versions alias whois for fwhois\n    $varWhoisExe = &quot;/usr/bin/fwhois&quot;;\n    #       $varWhoisExe = &quot;/usr/bin/whois&quot;;</p><p>## Setting target of whois\n     $varWhoisTarget = lc($ARGV[0]);\n             \n              ## If no arguments passed to program show help\n              if ($varWhoisTarget) {\n                   print &quot;Processing...</p><p>&quot;;\n                   $varWhoisExe .= &quot; &quot; . $varWhoisTarget;\n                   $varWhoisResultOne = `$varWhoisExe`;\n                   print $varWhoisResultOne;\n                   $varIndex = index(lc($varWhoisResultOne),&quot;whois server:&quot;);\n                   if ($varIndex &gt; -1) {\n                   	$varIndex1 = index(lc($varWhoisResultOne),&quot;whois\.&quot;);\n                          $varIndex2 = index(lc($varWhoisResultOne),&quot;\.&quot;,($varIndex1+7));\n                          $varLength = ($varIndex2 + 4) - $varIndex1; \n                          $varWhoisServer = substr($varWhoisResultOne,$varIndex1,$varLength);\n                          $varWhoisExe .= &quot;\@&quot; . $varWhoisServer;\n                          print &quot;Query &quot; . $varWhoisServer . &quot; for more info on &quot; . $varWhoisTarget . &quot;? (y\/n) &quot;;\n                          chop($varAnswer=&lt;STDIN&gt;);\n                          if (lc($varAnswer) eq &quot;y&quot;) {\n                                 print &quot;\nProcessing...</p><p>&quot;;\n                                 $varWhoisResultTwo = `$varWhoisExe`;\n                                 print $varWhoisResultTwo;\n                          }\n              }\n              } else {\n		  print &quot;\nusage: ewhois domain.tld \n       ewhois domain.\n       ewhois domain\n&quot;;\n	      }\n	      exit;\n</pre>
</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
