<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Design Customization With Php</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">evolt.org</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Design Customization With Php</h2>
<p class="meta">02 Feb 2002</p>

<div class="post">
<h2>Introduction</h2>\n<p>Let the visitors of your site decide your site's colors, your sidebar's placement, and various other configurables with the help of PHP sessions.\nJust create several style sheets and let your users decide which to use.\n</p>\n<h2>Configuration</h2>\n<p>Because the script relies on the built-in session support in PHP a good thing to start off with (if you have access to the server) is to compile PHP with <code>--enable-trans-sid</code>, which will forward the\nsession identifier to the next script even if cookies are not available (which is the default transfer of session identifiers).\nYou will also have to make sure you've got <code>session.use_trans_sid = 1</code> in your php.ini or a\n.htaccess file. This is the default setting, so if you haven't changed it, you should be okay.\n</p>\n<h2>Let's do it</h2>\n<p>First off create a simple stylesheet, named <code>common.css</code>, which will be used always, no matter which styling the user chooses. This stylesheet should set up style items which will not be configurable and it should exclude items like colors, because we want the user to be able to choose those. Then create a few stylesheets with various settings of the items you want to be configurable (like font-family, color, etc.).\n</p></p><p><!-- axed by mwarden\n<p>You are not bound to using this separation but I think colors are  what most people will\nlike or dislike in your site's design, of course you can extend it to fonts but I think most people will be\nglad to see a sans-serif font always.\n</p>\naxed by mwarden--></p><p><h3>Sample style sheets</h3>\n<p>I saved this one as <code>gray.css</code> in a directory called <code>style</code>.\n</p>\n<pre>\nbody {\n        background : #ccc;\n        color : #000;\n}</p><p>a:link, a:visited {\n        color : #444;\n        background:transparent;\n}</p><p>a:hover, a:active { /* Keep below :link and :visited */\n        color : #666;\n        background : transparent;\n}</p><p>.banner {\n        background : #aaa;\n}\n</pre>\n<p>And the following is <code>white.css</code>:\n<!-- axed by mwarden\n, it's not 100% white as I use #eee and not #fff but it is\nrelatively whiter than the previous one.\n-->\n</p>\n<pre>\nbody {\n        background : #eee;\n        color : #000;\n}</p><p>a:link, a:visited {\n        color : #009;\n        background:transparent;\n}</p><p>a:hover, a:active { /* Keep below :link and :visited */\n        background : #fff;\n        color : #009;\n}</p><p>h1, h2, h3 {\n        color : #900;\n}</p><p>.banner {\n        background : #aaa;\n}\n</pre>\n<p>You may explicitely set the color of <code>h1, h2, h3</code> to <code>inherit</code> in\n<code>gray.css</code> if you want but that may present some incompatibilities.\n</p></p><p><!-- axed by mwarden\n<p>The <code>common.css</code> is not given to save some space and anyway it\nprobably won't fit your needs.\n</p>\naxed by mwarden --></p><p><h3>The PHP code</h3>\n<p><strong>Note:</strong> I use PHP 4.1's collection notation. If you want to make this backward-compatible\njust change all <code>$_*</code> variables to <code>$HTTP_*_VARS</code> in the following code.\n</p>\n<pre>\nsession_start();\nif ( isset($_GET['style']) ) {\n	session_register('style');\n	$_SESSION['style'] = $_GET['style'];\n}\nif (! isset($_SESSION['style'])) {\n	$style = 'gray';\n} else {\n	$style = $_SESSION['style'];\n}</p><p>if ( isset($_GET['navbar']) ) {\n	session_register('navbar');\n	$_SESSION['navbar'] = ($GET['navbar'] == 'left') ? 'left' : 'right';\n}\nif (! isset($_SESSION['navbar']) ) {\n	$navbar = 'right';\n} else {\n	$navbar = $_SESSION['navbar'];\n}\n</pre>\n<p>This code sends HTTP headers so it has to appear <strong>before</strong> any output\nno matter from PHP or HTML. It has to be also before the document type declaration.\nException is possible only when you use output buffering,\n</p>\n<p>Start a session first -- which will fill in any saved variables from the previous page\nand check if we've got a GET variable named <code>style</code>, if so register it\nas a session variable and set it to the value of what's been passed. If the session is not registered the just\nset a default value else get it from the session. The same is made with the <code>navbar</code> just that\nwe have only two possible values here and I used the short if-then-else form.\n</p>\n<pre>\n&lt;link href="style/common.css" type="text/css" rel="stylesheet" /&gt;\n&lt;link href="style/&lt;?php echo $style?&gt;.css" type="text/css" rel="stylesheet" /&gt;\n</pre>\n<p>Above is the HTML code used to link to the style sheets. It has to be put in the <code>head</code> of\nyour HTML documents that will change colors.\n</p>\n<pre>\n&lt;table border="0" summary="contents wrapper" class="wrapper"&gt;\n&lt;tr&gt;</p><p>&lt;?php\nfunction navbar() {\n?&gt;\n&lt;td class="banner"&gt;\n&lt;p&gt;Select your color scheme\n&lt;/p&gt;\n&lt;table border="0" summary="style sheet choosing controls"&gt;\n&lt;tr&gt;\n&lt;td style="background : #cccccc"&gt;\n	&lt;a href="&lt;?php echo $_SERVER['PHP_SELF']?&gt;?style=gray"\n		title="Change the stylesheet to have a gray background"&gt;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/a&gt;&lt;/td&gt;\n&lt;td style="background : #eeeeee"&gt;\n	&lt;a href="&lt;?php echo $_SERVER['PHP_SELF']?&gt;?style=white"\n		title="Change the stylesheet to have a white background"&gt;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/a&gt;&lt;/td&gt;\n&lt;td style="background : #696969"&gt;\n	&lt;a href="&lt;?php echo $_SERVER['PHP_SELF']?&gt;?style=charcoal"\n		title="Change the stylesheet to have a charcoal-like background"&gt;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/a&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;a href="somepage"&gt;Link1&lt;/a&gt;\n&lt;a href="somepage1"&gt;Link2&lt;/a&gt;\n&lt;/td&gt;</p><p>&lt;?php\n}	//	end navbar()</p><p>if ( $navbar == 'left' )\n	navbar();\n?&gt;</p><p>&lt;td class="content"&gt;\nSome stuff\n&lt;/td&gt;</p><p>if ( $navbar == 'right' )\n	navbar();\n?&gt;</p><p>&lt;/tr&gt;\n&lt;/table&gt;\n</pre>\n<p>Above is the page wrapper. First a table is created and one row within it. The <code>navbar</code>\nfunction just prints some style sheet controls -- passing back a <code>style="stylesheet"</code>\nquery string so that the page changes colors and other links. Basically the links to change the color will be\nthe same color as the background for the desired style sheet, and since this is set through a\n<code>style</code> attribute non-CSS browsers won't diplay it (probably causing confusion).\n</p>\n<p>When all is defined check first if the navbar should be on the left. If so print it; else just continue with the\ncontents. Finally, a check if the navbar is on the right.\n</p>\n<p>You can switch between left and right navbar just by passing back a\n<code>navbar=left</code> or <code>navbar=right</code> query.\n</p>\n<h2>Want more</h2>\n<p>An improvement could be to use cookies to make changes permament. I didn't use it as a default\nsince cookies are not required to be available, allowing more browsers to use the feature since any browser can handle query strings (which is what\nyou get with PHP sessions if cookies are unavailable).\n</p>\n<p>Another thing to consider if you've got the time is to let visitors write their\nown style sheet. But remember that cookies are limited by size.\n</p>
</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
