<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Accessible Interdependent Select Boxes</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">evolt.org</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Accessible Interdependent Select Boxes</h2>
<p class="meta">04 Jun 2003</p>

<div class="post">
<p>\nIn the constant struggle to make web sites accessible to everyone, we sometimes\nhave to reconsider some of the techniques we use in web development.\n</p></p><p><p>\nOne of the main obstacles is to &#34;de-script&#34; forms. For years we \nhave been spicing up forms with Javascript, and, if we didn't consider the \nconsequences, didn't know better, or weren't allowed to elaborate due to tight \ndeadlines, we made forms dependent on Javascript.\n</p></p><p><h2>The classic interdependent select box</h2></p><p><p>\nThe classic example is interdependent select boxes. These are two or more select \nboxes, that allow the user to choose an option of one, and the content of the \nsecond gets automatically updated depending on the choice. A very neat way to filter \nsearch options or available options. Airlines use them a lot, as most flights\nfrom one airport go to a defined number of other airports.\n</p></p><p><p>\nThe technique behind is to manipulate the options array of the \nselect boxes, something that can only be done &#34;on the fly&#34; with \nJavascript.\n</p></p><p><h2>Script, begone!</h2></p><p><p>\nTo offer a similar functionality, but make it independent of scripting, we \nhave several options. One would be to shift all the logic to the backend, and\nreload the page every time you select an option of the first box. This'll be \nthe safest way to do it, but it means another step for the user.\n</p></p><p><p>\nA nice way to work around is to rethink the concept of the interdependent \nselect box, and make it work with normal form functionality:\n</p></p><p><p>\nInstead of using two select boxes and changing their options via Javascript\nwe replace the first one with a row of radio buttons. Each radio button has a\nselect box connected to it.\n</p></p><p><p>\nThis is not really a 100% replacement, as the benefit of a select box &#8212; the \nsame screen space for loads of options &#8212; is not given anymore, but it's a feasable \noption.\n</p></p><p><p>\nVia Javascript, we hide all the select boxes and only show the one \nconnected to the radio button, once the radio button is selected.\n</p></p><p><p>\nUsers without Javascript, or with an older browser that is not able to understand the \n<acronym title="Document Objects Model">DOM</acronym>, will see all the select \nboxes.\n</p></p><p><h2><acronym title="Hypertext Markup Language">HTML</acronym></h2></p><p><pre>\n&#60;form id=&#34;mainform&#34;&#62;\n&#60;p&#62;&#60;input type=&#34;radio&#34; onfocus=&#34;hide(0)&#34; name=&#34;choice&#34; value=&#34;one&#34; id=&#34;choice1&#34; /&#62;\n&#60;label for=&#34;choice1&#34;&#62;Choice1&#60;/label&#62;\n&#60;span&#62;\n&#60;label for=&#34;select1&#34;&#62;Options 1&#60;/label&#62;&#160;\n&#60;select name=&#34;select1&#34; id=&#34;select1&#34;&#62;\n	&#60;option value=&#34;s1_1&#34;&#62;s1_1&#60;/option&#62;\n	[...]\n&#60;/select&#62;\n&#60;/span&#62;&#60;/p&#62;\n&#60;p&#62;&#60;input type=&#34;radio&#34; onfocus=&#34;hide(1)&#34; name=&#34;choice&#34; value=&#34;two&#34; id=&#34;choice2&#34; /&#62;\n&#60;label for=&#34;choice2&#34;&#62;Choice2&#60;/label&#62;\n&#60;span&#62;\n&#160;&#60;label for=&#34;select2&#34;&#62;Options 2&#60;/label&#62;&#160;\n&#60;select name=&#34;select2&#34; id=&#34;select2&#34;&#62;\n	&#60;option value=&#34;s2_1&#34;&#62;s2_1&#60;/option&#62;\n	[...]\n&#60;/select&#62;\n&#60;/span&#62;&#60;/p&#62;\n&#60;input type=&#34;submit&#34; value=&#34;Send&#34; /&#62;\n&#60;/form&#62;\n</pre></p><p><p>\nAs the Javascript uses DOM to find the <code>SPAN</code> to hide and the <code>P</code> to highlight,\nall we need to do to add another select is to add it after the last one:\n</p></p><p><pre>\n&#60;p&#62;&#60;input type=&#34;radio&#34; onfocus=&#34;hide(2)&#34; name=&#34;choice&#34; value=&#34;three&#34; id=&#34;choice3&#34; /&#62;\n&#60;label for=&#34;choice3&#34;&#62;Choice3&#60;/label&#62;\n&#60;span&#62;\n&#160;&#60;label for=&#34;select3&#34;&#62;Options 3&#60;/label&#62;&#160;\n&#60;select name=&#34;select3&#34; id=&#34;select3&#34;&#62;\n	&#60;option value=&#34;s3_1&#34;&#62;s3_1&#60;/option&#62;\n	[...]\n&#60;/select&#62;\n&#60;/span&#62;&#60;/p&#62;\n</pre></p><p><p>\nNotice we need to increment the counter for <strong><code>hide()</code></strong>.\n</p></p><p><p>\nTo hide all select boxes, we call the <code>hide()</code> function with an <code>id</code>\nof <code>&#34;none&#34;</code>.\n</p></p><p><code>\n&#60;body onload=&#34;hide('none')&#34;&#62;\n</code></p><p><h2>Javascript</h2></p><p><pre>\nfunction hide(id){\n	if (document.getElementById && document.createTextNode){\n		spans=document.getElementById('mainform').getElementsByTagName('span');\n		m=document.getElementById('mainform');\n		for (i=0;i&#60;spans.length;i++){\n			m.getElementsByTagName('span')[i].style.display='none';\n			m.getElementsByTagName('p')[i].style.background='#eee';\n			m.getElementsByTagName('p')[i].style.borderColor='#ccc';\n		}\n		if(id!='none'){			\n			m.getElementsByTagName('span')[id].style.display='inline';\n			m.getElementsByTagName('p')[id].style.background='#ffc';\n			m.getElementsByTagName('p')[id].style.borderColor='#000';\n		}\n	}\n}\n</pre></p><p><p>\nThe background and border colour change is just there to add some eye candy.\n</p></p><p><p>\nIf there is more than one instance on the page, we need to turn 'mainform'\ninto a second variable added to <code>hide()</code>.\n</p></p><p><h2>Any other way?</h2></p><p><p>\nAnother solution would be to turn all the option of the first select into \nheadlines with radio buttons for the dependent select boxes and hide and \nshow the radio groups with DOM. How to show and hide them was explained in the\n<a href="http://www.evolt.org/article/Collapsible_page_elements_with_DOM/17/45831/index.html">Collapsible page elements with DOM</a> article.</p>\n<p>To see the code here in action, go to the <a href="http://www.onlinetools.org/articles/accessibleinter/">Demo page</a>.\n</p>
</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
