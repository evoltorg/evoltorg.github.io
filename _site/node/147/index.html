<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Netscape Javascript Bug</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">evolt.org</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Netscape Javascript Bug</h2>
<p class="meta">12 Jun 1999</p>

<div class="post">
<p>\nJust when you had your fill of bugs and workarounds to get stuff to work with both NN and IE, I recently uncovered a bug that happens in both NN3 and NN4 when using frames and image rollovers.\n</p>\n<p>\nIf you've ever read through JavaScript documentation at  <a href="http://developer.netscape.com" target="_blank">Netscape</a> you may have noticed that there are some words that are reserved. Usually, when using these words your scripts will fail miserably, leaving you to figure out what the heck is going on. However, as I discovered recently, these problems can sometimes be painful to locate.\n</p>\n<p>\nI was putting together a quick demo site for some product that my girlfriend was showcasing to some dealers in her career field; a gallery of sorts. This gallery was a lot like other galleries on  the net, complete with frames, explanatory title in the top frame, content in the middle frame complete with rollovers, and <i>previous</i> and <i>next</i> buttons in the lower frame.</p>\n<p>\nSince I would be using JavaScript in the lower frame along with  the traditional <code>target</code> attribute for a normal link, I made sure I'd labeled  each frame with an appropriate name. I tested this whole thing out in IE5 and was quite pleased with myself. I'd knocked out picture taking, design, layout, coding, and testing in about 2.5 hours. It was late so I put it away for the night. The next morning, however, when I had my girlfriend test it out before sending this dealer the URL, she complained that it didn't work. I cranked up Netscape immediately to find out what was wrong.\n</p>\n<p>\nThe first couple of clicks on the next button would work fine until I put my mouse on the rollover in the <code>content</code> frame and then no amount of clicking <i>next</i> or <i>previous</i> would take me anywhere.  I also had a normal link in the bottom frame with a <code>target</code> value of <code>content</code>, that when clicked would open a new window with the document referenced in the link, instead of opening the document in the <code>content</code> frame. I opened up the JavaScript console to find a long list of errors, all the same.\n</p>\n<p>\n<pre>JavaScript Error: http://000.000.000.000/bottom.html, line 43:\nparent.content has no properties.</pre>\n</p>\n<p>\nI'd encountered this once before, but I couldn't remember where or what had caused it. I couldn't remember what had caused it before because I never figured it out; until now. Using Netscape, I investigated a little bit further to find out what the problem was. I already knew that as long as I just hit the <i>previous</i> or <i>next</i> links, everything was fine. It wasn't until I initiated the rollover in the <code>content</code> frame that the errors started happening. It was easy to conclude that everything was fine with my <i>previous</i> and <i>next</i> functions and that the problem was elsewhere. \n</p>\n<p>\nTo begin with, I reloaded the frameset page, resetting it to the original top, middle, and bottom documents.  Then, I hit <code>CTRL+O</code> to bring up the <i>Open File</i> dialogue box.  I type in\n</p>\n<pre>JavaScript:alert(parent.frames[1].name)</pre>\n</p>\n<p>(Remember, I can't use the NAME of the middle frame because it might throw errors, just like the <i>previous</i> and <i>next</i> functions were already doing, so I had to refer to the frame by it's index.) and hit <code>OK</code> to find out what the name of the second frame is. An alert box pops up saying <code>content</code>, just like I had specified in the frameset document. I click <i>next</i> and hit <code>CTRL+O</code>, the JavaScript statement I had just typed in there last time was still there so I hit <code>OK</code>. The alert box told me the same thing. So, I hit <i>next</i> again.  This time, however, instead of hitting <code>CTRL+O</code>, I moused over the rollover in the <code>content</code> frame. It was time to find out what was happening. I hit <code>CTRL+O</code> and then <code>OK</code> and this time the alert box said <code>diaspore_3</code>. That was really odd because that was the value of the <code>name</code> attribute of my rollover in the <code>content</code> frame, not the name of the middle frame as defined in the frameset page.\n</p>\n<p>\nI realized that something in my rollover code in the document's that were loaded into the <code>content</code> frame were causing this to happen. When I looked at it carefully, I found the nasty culprit immediately. I had forgotten that you cannot use reserved names as variables. I was using the variable <code>name</code> as one of my variables. Netscape was inadvertantly renaming the middle frame with the value of this variable. What a nightmare. I did a quick site wide search-and-replace, changing this variable's name to something else and everything was just fine.\n</p>\n<p>\nSo, let this be a lesson to all of you out there. When the documentation says not to use certain words because they're reserved, please do it or bad things will happen.\n</p>
</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
