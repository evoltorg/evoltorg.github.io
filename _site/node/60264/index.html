<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>On Time Every Time Timing Material In Cf</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">evolt.org</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>On Time Every Time Timing Material In Cf</h2>
<p class="meta">03 Feb 2004</p>

<div class="post">
<p>Timed-in content is becoming more and more useful on many sites, as promotions are carefully engineered to coincide with holidays, advertising broadcasts, sporting events and peak internet usage times. You can use this code for something as simple as changing your graphics over holidays, all the way up to arranging a half-price happy hour to go off between six and seven in the evening, while you're commuting home.</p></p><p><p>The really important line of code here is:</p></p><p><pre>&lt;cfif (DateDiff(&quot;n&quot;,now(),&quot;December 18 2004 12:00&quot;) lte 0) and (DateDiff(&quot;n&quot;,now(),&quot;December 25 2004 23:59&quot;) gte 0)&gt;</pre></p><p><p>Essentially, all we're doing here is check that the difference between a start time - noon on the 18th of December - and the time now is less than or equal to zero, and that the difference between the time now and the end time, just-before-midnight on the 25th, is greater than zero. The "n" sets the date check to be sensitive to the minute. "h" would set it to be sensitive to the hour instead - this isn't usually as useful, though. This period can be as long or as short as you like.</p></p><p><p>So, if you're changing your logo for the run up to Christmas, like <a href="http://www.google.com" target="_blank" title="Google!">Google</A> does, you'd do:</p></p><p><pre>&lt;cfif (DateDiff(&quot;n&quot;,now(),&quot;December 18 2004 12:00&quot;) lte 0) and (DateDiff(&quot;n&quot;,now(),&quot;December 25 2004 23:59&quot;) gte 0)&gt;\n&nbsp;&nbsp;&nbsp;&lt;img src=&quot;images/xmaslogo.gif&quot;&gt;\n&lt;cfelse&gt;\n&nbsp;&nbsp;&nbsp;&lt;img src=&quot;images/logo.gif&quot;&gt;\n&lt;/cfif&gt;</pre></p><p><p>You can also do a series of images, for a countdown, say, all timed in day by day:</p></p><p><pre>&lt;cfif (DateDiff(&quot;n&quot;,now(),&quot;March 14 2004 00:00&quot;) lte 0) and (DateDiff(&quot;n&quot;,now(),&quot;March 14 2004 23:59&quot;) gte 0)&gt;\n&nbsp;&nbsp;&nbsp;&lt;img src=&quot;images/3-days-to-go.gif&quot;&gt;\n&lt;cfelseif (DateDiff(&quot;n&quot;,now(),&quot;March 15 2004 00:00&quot;) lte 0) and (DateDiff(&quot;n&quot;,now(),&quot;March 15 2004 23:59&quot;) gte 0)&gt;\n&nbsp;&nbsp;&nbsp;&lt;img src=&quot;images/2-days-to-go.gif&quot;&gt;\n&lt;cfelseif (DateDiff(&quot;n&quot;,now(),&quot;March 16 2004 00:00&quot;) lte 0) and (DateDiff(&quot;n&quot;,now(),&quot;March 16 2004 23:59&quot;) gte 0)&gt;\n&nbsp;&nbsp;&nbsp;&lt;img src=&quot;images/1-day-to-go.gif&quot;&gt;\n&lt;cfelseif (DateDiff(&quot;n&quot;,now(),&quot;March 17 2004 00:00&quot;) lte 0) and (DateDiff(&quot;n&quot;,now(),&quot;March 17 2004 23:59&quot;) gte 0)&gt;\n&nbsp;&nbsp;&nbsp;&lt;img src=&quot;images/happy-paddys-day.gif&quot;&gt;\n&lt;/cfif&gt;</pre></p><p><p>However, that's a big chunk of code if you have multiple images or lines of text timing in, so it may well be more useful and clearer to this code at the top of the page:</p></p><p><pre>&lt;cfif (DateDiff(&quot;n&quot;,now(),&quot;September 3 2004 00:00&quot;) lte 0) and (DateDiff(&quot;n&quot;,now(),&quot;September 3 2004 23:59&quot;) gte 0)&gt;\n&nbsp;&nbsp;&nbsp;&lt;cfset timein =&quot;on&quot;&gt;\n&lt;/cfif&gt;</pre></p><p><p>And then surround your time-dependent content with:</p></p><p><pre>&lt;cfif timein is &quot;on&quot;&gt;\n&nbsp;&nbsp;&nbsp;Happy Birthday!\n&lt;/cfif&gt;</pre></p><p><p>I've been using this code in production for some months now, and I can say it's saved me hours of overtime and awkwardness with timed material. Hopefully, it will do the same for you.</p>
</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
