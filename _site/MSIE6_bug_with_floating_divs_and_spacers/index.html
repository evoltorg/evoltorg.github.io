<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Msie6 Bug With Floating Divs And Spacers</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">evolt.org</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Msie6 Bug With Floating Divs And Spacers</h2>
<p class="meta">11 May 2002</p>

<div class="post">
<p>Microsoft Internet Explorer 6 running on a Windows system has a very annoying display bug when rendering an HTML page that uses Cascading Style Sheets to define <code>div</code>s as floating and adding a spacer <code>div</code> at the bottom with the setting <code>clear: both</code> attribute. If you've been using Marc Newhouse's great <a href="http://www.alistapart.com/stories/practicalcss/" title="Article on A List Apart">Practical CSS</a> column, this may have affected you already...</p>\n<h2>The problem</h2>\n<p>Consider the following style sheet:</p>\n<pre>\n.spacer {\n  clear: both;\n}</p><p>.container {\n  border: 1px #999 dashed;\n}</p><p>.item {\n  float: left;\n  background-color: #ccc;\n  padding: 5px;\n  margin: 5px;\n}</p><p>.main {\n}</p><p>.main2 {\n  background-color: #eee;\n}\n</pre>\n<p>And the following HTML file:</p>\n<pre>\n&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;title&lt;/title&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/&gt;\n&lt;link rel="stylesheet" href="style.css" type="text/css"/&gt;\n&lt;/head&gt;</p><p>&lt;body&gt;\n&lt;div class="main"&gt;\n  &lt;h1&gt;Title of the page&lt;/h1&gt;\n  &lt;div class="container"&gt;\n    &lt;div class="spacer"&gt;&nbsp;&lt;/div&gt;\n    &lt;div class="item"&gt;One&lt;/div&gt;\n    &lt;div class="item"&gt;Two&lt;br/&gt;bis&lt;/div&gt;\n    &lt;div class="item"&gt;Three&lt;/div&gt;\n    &lt;div class="spacer"&gt;&nbsp;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</pre>\n<p>... which validates as <a href="http://validator.w3.org/check?uri=http://www.evolt.org/evolt/files/17705/example.html" title="See XHTML validation results from the W3C">XHTML</a> \n  and <a href="http://jigsaw.w3.org/css-validator/validator?uri=http://www.evolt.org/evolt/files/17705/example.html">CSS</a>.</p>\n<p><a href="files/17705/example.html" title="The HTML file as described above">View it</a> in any CSS-compliant browser, you'll see the same results (<a href="images/17705/example.gif" title="Screenshot of the first example, 8k gif image">see screenshot</a>).</p>\n<p>Now consider another HTML file, identical to the first one, with the exception that the first <code>div</code> is set to the class <code>.main2</code>. The only difference is that its <code>background-color</code> attribute is set. When I <a href="files/17705/example2.html" title="The other HTML file with the main div having a background color">look at it</a> with IE6/Win2k, I don't see "Title of the page", it just isn't visible. Space is reserved for it, but the words aren't there. If you don't have IE6/win, see <a href="images/17705/example2.gif" title="Screenshot of the broken example, 8k gif image">this screenshot</a>.</p>\n<p>OK, we've seen the reason. Now let's see some weird behavior: scrolling. When you scroll down then back up your affected page, the display is properly redrawn! Try it for yourself on the <a href="files/17705/example2.html" title="The HTML file as described above">second example</a>, or see <a href="images/17705/example2_scrolled.gif" title="Screenshot of the second example after a scroll, 8k gif image">this screenshot</a>. (Note: the actual files differ from the code above, as I've added some <code>&lt;br&gt;</code>s to allow you to scroll easily. It does not otherwise affect the demonstration.)</p>\n<h2>The solution</h2>\n<p>Brian G. Vallelunga</a> has provided me with the fix: explicitly set the <code>position</code> attribute of paragraphs to <code>relative</code>. Practically, add the following  rule to your style sheet:</p>\n<pre>h1, h2, h3, h4, h5, h6, p {\n  position: relative;\n} </pre>\n<p><a href="files/17705/example4.html" title="This file will display similarly in IE and other browsers">See it in action</a>, the way it should be (note the different CSS file). It still  validates as <a href="http://validator.w3.org/check?uri=http://www.evolt.org/evolt/files/17705/example4.html">XHTML</a>  and <a href="http://jigsaw.w3.org/css-validator/validator?uri=http://www.evolt.org/evolt/files/17705/example4.html">CSS</a>,  but I'm not sure how respectful it is of the spirit of the thing: feel free  to contribute comment if you have some insight in this matter!!</p>\n<p>But yes, it's that simple :-)</p>
</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
