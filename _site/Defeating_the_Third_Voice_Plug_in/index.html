<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Defeating The Third Voice Plug In</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">evolt.org</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Defeating The Third Voice Plug In</h2>
<p class="meta">10 Jun 1999</p>

<div class="post">
<p>\nI've been playing around trying to figure out how to beat this plug-in.  In my playing around, I've come up with a script that will render it completely useless on any page the following JavaScript is posted.\n</p>\n<p>\nHow Third Voice works is to append comments to specific text at a specific URL.  However, if that URL changes, the comment is no longer attached to anything relevant.  So, the trick is to make sure the URL is never the same.\n</p>\n<p>\nThis can be done by appending a random string to the end of the URL using the location.search object.  If the URL already has the random string appended to it, change the random string and re-append.  The trick is to get the script to not force the browser into an infinite loop.  The easiest way to do that is to use the getTime() function which returns the number of milliseconds since January 1, 1970.  Since this number is always changing, we can easily be guaranteed that the string to attach to the end of the URL is unique.  If the page is loaded with a search string already attached, we simply check to see if it is within 100,000 milliseconds from the current time string created when the page is loaded.  If it is more than 100,000 milliseconds the page is reloaded with the new time string appended.\n</p>\n<p>\nHere's the script.  I've tested it on both IE4 and IE5 and it seems to work pretty well.  Have massaged it so it won't cause any errors and won't throw the browser into a loop.  Be sure to place the following script in the head section of your document of every page you want protected and you're now Thirdvoice-proof.\n</p>\n<p>\n<pre>\n&lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot;&gt;\n&lt;!--\n  var agt = navigator.userAgent.toLowerCase();\n  var ie4u = ((agt.indexOf('msie') != -1) && (parseInt(navigator.appVersion) &gt;= 4));\n  if(ie4u)\n  {\n    ts = new Date();\n    ts = ts.getTime();\n    lh = location.href;\n    if(location.search)\n    {\n      ls = location.search;\n      if(parseInt(ts) - ls.substring(1,ls.length) &gt;= '100000')\n      {\n        location.href = lh.substring(0,lh.indexOf('?')) + '?' + ts;\n      }\n    }\n    else\n    {\n      location.href = lh + '?' + ts;\n    }\n  }\n// --&gt;\n&lt;/script&gt;\n</pre>\n<p>\nThat's all there is to it.  So, for those of you who don't care to let Third Voice ruin your creations, have at it.
</div>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
