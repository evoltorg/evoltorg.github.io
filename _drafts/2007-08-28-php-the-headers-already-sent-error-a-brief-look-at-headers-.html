---
layout: post
permalink: node/60827
ratings: 0
avgrate: 
user: sabmalik
real_name: "sabeen malik"
user_since: 28 Aug 2007
avatar: ""
article_count: 2
excerpt: " Every beginner PHP programmer comes across the \"headers already sent\" error and then they google to find out how to get rid of it. What they dont try to understand is the root level logic behind that error. Surprisingly alot of junior PHP programmers have no idea what headers are."
---
 <p>Every beginner PHP programmer comes across the "headers already sent" error and then they google to find out how to get rid of it. What they dont try to understand is the root level logic behind that error. Surprisingly alot of junior PHP programmers have no idea what headers are. <br></p>  <br></p>  I will try to explain in brief what headers are actually. I am not an expert on headers but what i put here is what i know from a little bit of experience.</p><p>  <br></p>  <br></p>  Every HTTP/HTTPS web page request goes to the relevant web server (Apache , IIS etc ) and then the web server responds with the requested page. COOL!!! BUT how do the web server know what page is requested and what form data has been posted etc? HEADERS!</p><p>  <br></p>  <br></p>  Headers are the means of communication between a browser and a web server. A normal web request from a browser for http://www.abc.com/index.php would look something like this in headers.</p><p>  <br></p>  <br></p>  <strong>GET /index.php HTTP/1.1</p><p>  <br></p>  Host: www.abc.com</p><p>  <br></p>  Connection: Close</p><p>  <br></p>  <br></p>  </strong></p><p>  <br></p>  <br></p>  The first line tells the web server that what transmission method is used GET or POST.  Then the page name wanted and the protocol version used.</p><p>  <br></p>  <br></p>  The second line tells the web server what domain that page should be under, this way apache can look inside its virtual hosts list and see what domain resides in which directory. So if www.abc.com resides in /home/abc/public_html , then the page requested becomes /home/abc/public_html/index.php.</p><p>  <br></p>  <br></p>  The third line tells the server that after the request is processed the connection will be closed.</p><p>  <br></p>  <br></p>  So that was a simple request. Now its the servers turn to respond, in our case the page is a .php page , so the php engine will process the requested page and send the response. Before any of the html is sent back to the browser ,  PHP sends in some information about the server and the data coming going through. Here is a sample response header.</p><p>  <br></p>  <br></p>  <strong>HTTP/1.0 200 OK</p><p>  <br></p>Date: Sun, 25 Feb 2007 21:28:38 GMT</p><p><br></p>Server: Microsoft-IIS/6.0</p><p><br></p>Content-Type: text/html</p><p><br></p>Content-Length: 4293</p><p><br></p>Connection: close</strong></p><p>  <br></p>  <br></p>  First line gives the HTTP status code of the response. "200 OK" in this case. Which means all good , i found the requested page and i have processed it for you and i am going to send it through. A list of status codes can be found <a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes" title="List Of HTTP Status Codes" target="_blank">here.</a> Next line is ofcourse the date and time of the server, then comes the name of the web server  in use. Next line is content type , which you are probably already familiar with. Content type tells the browser what sort of data is going to come through , so that the browser can show it accordingly. In this case it is text/html , which the browser will show happily. Next comes the content length , ofcourse this is byte size of the data that is going to flow through. Last line as before tells the browser the connection will be closed once the data goes through.</p><p>  <br></p>  <br></p>  Once the response header is complete , the php script output follows. So important thing to remember <strong>header first and then the data from your script.</p><p>  <br></p>  <br></p>  </strong></p><p>  <br></p>  <br></p>  The PHP  header() function basically you can add to the above header response from the server.For instance when you type in your php script..</p><p>  <br></p>  <em>header("Location:login.php");</em></p><p>  <br></p></p></p><p>You are basically adding a line to the above response header..</p><p>  <br></p>  <strong>Location:login.php</strong></p><p>  <br></p>  <br></p>Which means that please goto login.php for further processing and the browser obliges and heads to login.php.</p><p><br></p><br></p>When your php script even sends one " " (space) basically the data has started to flow to the users browser,  as we know before any data flow the header goes out first. Hence that means the header has been sent to the browser, followed by your " "(space)  character. Now once the header has been sent and PHP sees some command like header("Location:goto.php") , PHP says ... <em><strong>excuse me sir but you have already started to send output from your script , thus i have already sent out the response headers , now how do you expect me to add that line to the reponse header ?</strong></em></p><p><br></p><br></p>To overcome this problem alot of programmers use <strong>ob_start()</strong> at the top , basically telling PHP to buffer the output untill the end of the script or flushed explicitly with<strong> ob_end_flush</strong> or <strong>ob_flush</strong>. So basically no output is actually sent to the browser and the header command works fine. Now gentlemen that works fine and its a wonderful utility to have at your disposal BUT ..... if you are using ob_start() to get rid of header already sent errors , then you have a flow problem in your script. Fix the flow instead of just using ob_start as a quick band aid , you wont become a good programmer and last in the long run relying on shortcuts!</p><p><br></p><br></p>The ob_start function is best left to greater uses like using it for compression or using it with a  callback function to process your output before sending out the script output or various other things.</p><p><br></p><br></p>Hope this article helps someone out there!</p></p>